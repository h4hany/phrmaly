import{a as le}from"./chunk-27YFHFWM.js";import{a as se}from"./chunk-ET74JURU.js";import"./chunk-ASC66LS3.js";import{a as oe}from"./chunk-JYPY3KCN.js";import{a as ae}from"./chunk-TCUYX7IT.js";import{a as ne}from"./chunk-XG6FMBJJ.js";import{c as A,d as U,e as J,f as K,h as W,k as X,n as Z,v as ee,x as te}from"./chunk-TK76J465.js";import{a as ie}from"./chunk-6CFKC637.js";import{a as re}from"./chunk-LCE5WCDK.js";import"./chunk-T542ZMY7.js";import"./chunk-URFUYTQU.js";import"./chunk-BYXBJQAS.js";import{a as j,b as N}from"./chunk-3UJCRMW3.js";import{d as Y}from"./chunk-C3O3TVFX.js";import{$a as a,Ab as l,Bb as d,Fa as I,Ka as b,Q as k,Qa as M,Ra as h,Sa as O,Ua as L,Va as f,W as _,Wa as $,X as v,Y as C,Ya as F,Z as P,Za as T,_a as r,_b as z,ab as g,cb as S,db as x,eb as u,ga as E,ib as B,ja as G,jb as V,kb as q,mb as c,nb as y,ob as m,pb as w,qb as H,rb as Q,wa as i}from"./chunk-E4S7NVXB.js";import"./chunk-C6Q5SG76.js";function ue(o,e){o&1&&(r(0,"div",1)(1,"span"),c(2),l(3,"translate"),a()()),o&2&&(i(2),y(d(3,1,"drug.origin.imported")))}function ge(o,e){if(o&1&&(r(0,"div",34),g(1,"div",35),r(2,"div",36)(3,"div",37)(4,"div",38),C(),r(5,"svg",39),g(6,"path",40),a()()()(),P(),g(7,"div",41)(8,"div",42)(9,"div",43)(10,"div",44),a()),o&2){let t=u();O("active",t.selected)}}function me(o,e){o&1&&(r(0,"div",12)(1,"span"),c(2,"\u2728"),a(),r(3,"span"),c(4),l(5,"translate"),a()()),o&2&&(i(4),y(d(5,1,"drug.classification.cosmetic")))}function fe(o,e){if(o&1&&(r(0,"p",45),c(1),a()),o&2){let t=u();h("color","var(--sidebar-text, #E3F4F5)"),i(),m(" ",t.getManufacturer()," ")}}function he(o,e){if(o&1&&(r(0,"p",17)(1,"span",18),c(2),l(3,"translate"),a(),c(4),a()),o&2){let t=u();h("color","var(--sidebar-text, #E3F4F5)"),i(2),m("",d(3,4,"drugCard.barcode"),":"),i(2),m(" ",t.drug.internalBarcode," ")}}function _e(o,e){if(o&1&&(r(0,"p",17)(1,"span",18),c(2),l(3,"translate"),a(),c(4),a()),o&2){let t=u();h("color","var(--sidebar-text, #E3F4F5)"),i(2),m("",d(3,4,"drugCard.plu"),":"),i(2),m(" ",t.drug.generalDrug==null?null:t.drug.generalDrug.internationalBarcode," ")}}function ve(o,e){if(o&1&&(r(0,"div",46),C(),r(1,"svg",47),g(2,"path",48),a(),P(),r(3,"span",24),c(4),l(5,"translate"),l(6,"translate"),a()()),o&2){let t=u();h("background","rgba(234, 179, 8, 0.15)")("border-left","3px solid #fbbf24"),i(3),h("color","var(--sidebar-text, #E3F4F5)"),i(),Q(" ",d(5,10,"drugCard.expires"),": ",t.formatDate(t.drug.expiryDate)," (",t.getMonthsUntilExpiry()," ",d(6,12,"drugCard.months"),") ")}}function xe(o,e){if(o&1&&(r(0,"span"),c(1),l(2,"translate"),a()),o&2){let t=u().$implicit,n=u(3);i(),w(" \u2022 ",d(2,2,"drugCard.exp"),": ",n.formatDate(t.expiryDate),"")}}function Ce(o,e){if(o&1&&(r(0,"div",55)(1,"div",56)(2,"span"),c(3),l(4,"translate"),a(),r(5,"span"),c(6),l(7,"translate"),a()(),r(8,"div",57),c(9),l(10,"translate"),b(11,xe,3,4,"span"),a()()),o&2){let t=e.$implicit,n=u(3);h("background","rgba(255, 255, 255, 0.05)")("color","var(--sidebar-text, #E3F4F5)"),i(3),w("",d(4,11,"drugCard.quantity"),": ",t.quantity,""),i(3),w("",d(7,13,"drugCard.cost"),": ",n.formatPrice(t.unitCost),""),i(3),w(" ",d(10,15,"drugCard.purchased"),": ",n.formatDate(t.purchaseDate)," "),i(2),f(t.expiryDate?11:-1)}}function be(o,e){if(o&1&&(r(0,"div",53),F(1,Ce,12,17,"div",54,$),a()),o&2){let t=u(2);i(),T(t.drug.costLayers)}}function Me(o,e){if(o&1){let t=S();r(0,"div",19)(1,"button",49),x("click",function(){_(t);let s=u();return v(s.toggleCostLayers())}),r(2,"span",50),c(3),l(4,"translate"),a(),C(),r(5,"svg",51),g(6,"path",52),a()(),b(7,be,3,0,"div",53),a()}if(o&2){let t=u();i(2),h("color","var(--sidebar-text, #E3F4F5)"),i(),w(" ",d(4,9,"drugCard.costLayers")," (",t.drug.costLayers.length,") "),i(2),h("color","var(--sidebar-text, #E3F4F5)"),O("rotate-180",t.showCostLayers()),i(2),f(t.showCostLayers()?7:-1)}}function Pe(o,e){if(o&1&&(r(0,"span"),c(1),l(2,"translate"),a()),o&2){let t=e.$implicit,n=u(2);L(n.getBadgeClasses(t)),i(),m(" ",d(2,3,t.label)," ")}}function ye(o,e){if(o&1&&F(0,Pe,3,5,"span",30,$),o&2){let t=u();T(t.badges)}}function we(o,e){if(o&1&&(r(0,"span"),g(1,"span"),c(2),a()),o&2){let t=u();L(t.getStatusBadgeClasses()),i(),L(t.getStatusDotClasses()),i(),m(" ",t.getStatusLabel()," ")}}function ke(o,e){if(o&1){let t=S();r(0,"button",58),l(1,"translate"),x("click",function(s){_(t);let p=u();return v(p.onEditClick(s))}),C(),r(2,"svg",59),g(3,"path",60),a()()}o&2&&(h("background","rgba(255, 255, 255, 0.1)")("color","var(--sidebar-text, #E3F4F5)"),M("title",d(1,5,"common.edit")))}function Oe(o,e){if(o&1){let t=S();r(0,"button",61),l(1,"translate"),x("click",function(s){_(t);let p=u();return v(p.onDeleteClick(s))}),C(),r(2,"svg",59),g(3,"path",62),a()()}o&2&&(h("background","rgba(255, 255, 255, 0.1)")("color","var(--sidebar-text, #E3F4F5)"),M("title",d(1,5,"common.delete")))}var R=class o{translationService=k(j);drug;badges;showEdit=!0;showDelete=!0;costingMethod="FIFO";selectionMode=!1;selected=!1;view=E();edit=E();delete=E();selectionToggle=E();showCostLayers=G(!1);get isRTL(){return this.translationService.getCurrentLanguage()==="ar"}isImported(){return this.drug?.origin==="imported"}isCosmetic(){return this.drug?.classification==="cosmetic"}getDrugInitials(){let e=this.getDrugName();if(e){let t=e.trim().split(/\s+/);return t.length>=2?(t[0][0]+t[1][0]).toUpperCase():e.substring(0,2).toUpperCase()}return"DR"}getDrugName(){return this.drug?.generalDrug?.name||"N/A"}getManufacturer(){return this.drug?.generalDrug?.manufacturer||""}formatPrice(e){return e.toFixed(2)}hasDiscount(){return this.drug.priceAfterDiscount<this.drug.price}getCurrentPrice(){return this.drug.priceAfterDiscount}getDiscountAmount(){return this.drug.price-this.drug.priceAfterDiscount}getDiscountPercentage(){return this.hasDiscount()?Math.round((this.drug.price-this.drug.priceAfterDiscount)/this.drug.price*100):0}getMaxStock(){if(this.drug.costLayers&&this.drug.costLayers.length>0){let e=this.drug.costLayers.reduce((t,n)=>t+n.quantity,0);return Math.max(e,this.drug.stockQuantity,this.drug.minimumStock*2)}return Math.max(this.drug.stockQuantity,this.drug.minimumStock*2)}getStockPercentage(){let e=this.getMaxStock();return e===0?0:Math.min(this.drug.stockQuantity/e*100,100)}getCostingMethod(){return this.costingMethod}getMonthsUntilExpiry(){if(!this.drug.expiryDate)return 0;let e=new Date(this.drug.expiryDate),t=new Date,n=(e.getFullYear()-t.getFullYear())*12+(e.getMonth()-t.getMonth());return Math.max(0,n)}getBadgeClasses(e){let t="px-2.5 py-1 rounded-full text-xs font-medium",n=e.variant||"default";return`${t} ${{success:"bg-green-500/20 text-green-400",warning:"bg-amber-500/20 text-amber-400",danger:"bg-red-500/20 text-red-400",info:"bg-blue-500/20 text-blue-400",default:"bg-white/10 text-white/80"}[n]}`}getStatusBadgeClasses(){let e="inline-flex items-center px-3 py-1 rounded-full text-xs font-medium",t=this.drug?.status;return t==="active"?`${e} bg-green-500/20 text-green-400`:t==="out_of_stock"?`${e} bg-red-500/20 text-red-400`:`${e} bg-white/10 text-white/60`}getStatusDotClasses(){let e="w-1.5 h-1.5 rounded-full mr-2",t=this.drug?.status;return t==="active"?`${e} bg-green-400`:t==="out_of_stock"?`${e} bg-red-400`:`${e} bg-gray-400`}getStatusLabel(){let e=this.drug?.status;return e==="active"?this.translationService.translate("drugCard.active")||"Active":e==="out_of_stock"?this.translationService.translate("drugCard.outOfStock")||"Out of Stock":this.translationService.translate("drugCard.inactive")||"Inactive"}toggleCostLayers(){this.showCostLayers.update(e=>!e)}onCardClick(e){this.selectionMode&&!this.isButtonClick(e)&&this.selectionToggle.emit(!this.selected)}onViewClick(e){e.stopPropagation(),this.view.emit()}onEditClick(e){e.stopPropagation(),this.edit.emit()}onDeleteClick(e){e.stopPropagation(),this.delete.emit()}isButtonClick(e){return e.target.closest("button")!==null}formatDate(e){if(!e)return"";let t=typeof e=="string"?new Date(e):e;if(isNaN(t.getTime()))return"";let n=String(t.getDate()).padStart(2,"0"),s=String(t.getMonth()+1).padStart(2,"0"),p=t.getFullYear();return`${n}-${s}-${p}`}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=I({type:o,selectors:[["app-drug-card"]],inputs:{drug:"drug",badges:"badges",showEdit:"showEdit",showDelete:"showDelete",costingMethod:"costingMethod",selectionMode:"selectionMode",selected:"selected"},outputs:{view:"view",edit:"edit",delete:"delete",selectionToggle:"selectionToggle"},decls:54,vars:85,consts:[[1,"drug-card","group","relative","rounded-xl","p-6","transition-all","duration-200","cursor-pointer","hover:-translate-y-0.5","flex","flex-col",3,"click"],[1,"import-badge-left"],[1,"selection-overlay","absolute","inset-0","rounded-xl","transition-all","duration-300","pointer-events-none",3,"active"],[1,"medicine-pattern","absolute","inset-0","pointer-events-none","overflow-visible","rounded-xl"],[1,"absolute","medicine-icon"],["src","icons/medicine.svg","alt","",1,"w-40","h-40",2,"filter","brightness(0) invert(1)","opacity","0.15"],[1,"absolute","inset-0","rounded-xl","opacity-0","group-hover:opacity-100","transition-opacity","duration-200","pointer-events-none"],["type","button",1,"view-button",3,"click","title"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","stroke-width","2.5",1,"w-5","h-5","arrow-icon-ltr"],["stroke-linecap","round","stroke-linejoin","round","d","M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3"],[1,"relative","z-10","flex-1","flex","flex-col"],[1,"mb-4","flex-1"],[1,"cosmetic-badge-inline"],[1,"text-lg","font-bold","mb-1.5","group-hover:opacity-90","transition-opacity","duration-200","leading-tight"],[1,"text-sm","mb-2","font-medium","opacity-80",3,"color"],[1,"space-y-1","mb-2"],[1,"text-xs","opacity-60",3,"color"],[1,"text-xs","opacity-60"],[1,"font-medium"],[1,"mb-2"],[1,"flex","items-baseline","gap-2","mb-1"],[1,"text-2xl","font-bold"],[1,"flex","items-center","justify-between","mb-1"],[1,"text-xs","font-semibold","uppercase","tracking-wide","opacity-70"],[1,"text-xs","font-medium"],[1,"w-full","bg-white/10","rounded-full","h-1.5","mb-1"],[1,"h-1.5","rounded-full","transition-all","duration-300"],[1,"flex","items-center","justify-between","text-xs","opacity-60"],[1,"mb-2","p-2","rounded","flex","items-center","gap-2",3,"background","border-left"],[1,"flex","items-center","gap-2","flex-wrap","mb-4"],[3,"class"],[1,"action-buttons","absolute","bottom-4","flex","items-center","gap-2","opacity-0","group-hover:opacity-100","transition-all","duration-200","transform","translate-y-2","group-hover:translate-y-0"],["type","button",1,"p-2","rounded-lg","backdrop-blur-sm","transition-all","duration-200","shadow-md","opacity-80","hover:opacity-100",3,"background","color","title"],["type","button",1,"p-2","rounded-lg","backdrop-blur-sm","transition-all","duration-200","shadow-md","opacity-80","hover:opacity-100","hover:bg-red-500/20","hover:text-red-400",3,"background","color","title"],[1,"selection-overlay","absolute","inset-0","rounded-xl","transition-all","duration-300","pointer-events-none"],[1,"absolute","inset-0","rounded-xl","bg-[var(--primary-bg,#D9F275)]/25","backdrop-blur-[2px]","border-3",2,"border-color","var(--primary-bg, #D9F275)"],[1,"absolute","inset-0","flex","items-center","justify-center"],[1,"checkmark-container"],[1,"checkmark-circle"],["viewBox","0 0 24 24","fill","none","stroke","currentColor",1,"checkmark-icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","3","d","M5 13l4 4L19 7",1,"checkmark-path"],[1,"corner-glow","corner-glow-1"],[1,"corner-glow","corner-glow-2"],[1,"corner-glow","corner-glow-3"],[1,"corner-glow","corner-glow-4"],[1,"text-sm","mb-2","font-medium","opacity-80"],[1,"mb-2","p-2","rounded","flex","items-center","gap-2"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","flex-shrink-0",2,"color","#fbbf24"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"],["type","button",1,"w-full","flex","items-center","justify-between","p-1.5","rounded","transition-colors","hover:bg-white/5",3,"click"],[1,"text-xs","font-semibold","uppercase","tracking-wide"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","transition-transform"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 9l-7 7-7-7"],[1,"mt-1","space-y-1"],[1,"p-1.5","rounded","text-xs","opacity-70",3,"background","color"],[1,"p-1.5","rounded","text-xs","opacity-70"],[1,"flex","justify-between"],[1,"text-xs","opacity-60","mt-0.5"],["type","button",1,"p-2","rounded-lg","backdrop-blur-sm","transition-all","duration-200","shadow-md","opacity-80","hover:opacity-100",3,"click","title"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"],["type","button",1,"p-2","rounded-lg","backdrop-blur-sm","transition-all","duration-200","shadow-md","opacity-80","hover:opacity-100","hover:bg-red-500/20","hover:text-red-400",3,"click","title"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"]],template:function(t,n){t&1&&(r(0,"div",0),x("click",function(p){return n.onCardClick(p)}),b(1,ue,4,3,"div",1)(2,ge,11,2,"div",2),r(3,"div",3)(4,"div",4),g(5,"img",5),a()(),g(6,"div",6),r(7,"button",7),l(8,"translate"),x("click",function(p){return n.onViewClick(p)}),C(),r(9,"svg",8),g(10,"path",9),a()(),P(),r(11,"div",10)(12,"div",11),b(13,me,6,3,"div",12),r(14,"h3",13),c(15),a(),b(16,fe,2,3,"p",14),r(17,"div",15),b(18,he,5,6,"p",16)(19,_e,5,6,"p",16),r(20,"p",17)(21,"span",18),c(22),l(23,"translate"),a(),c(24),a()(),r(25,"div",19)(26,"div",20)(27,"span",21),c(28),a()()(),r(29,"div",19)(30,"div",22)(31,"span",23),c(32),l(33,"translate"),a(),r(34,"span",24),c(35),a()(),r(36,"div",25),g(37,"div",26),a(),r(38,"div",27)(39,"span"),c(40),l(41,"translate"),l(42,"translate"),a(),r(43,"span"),c(44),l(45,"translate"),a()()(),b(46,ve,7,14,"div",28)(47,Me,8,11,"div",19),a(),r(48,"div",29),b(49,ye,2,0)(50,we,3,5,"span",30),a(),r(51,"div",31),b(52,ke,4,7,"button",32)(53,Oe,4,7,"button",33),a()()()),t&2&&(h("color","var(--sidebar-text, #E3F4F5)")("min-height","440px"),O("imported-card",n.isImported()),i(),f(n.isImported()?1:-1),i(),f(n.selectionMode?2:-1),i(2),h("right",n.isRTL?"auto":"1rem")("left",n.isRTL?"1rem":"auto")("top","50%")("transform","translateY(-50%)"),i(2),h("background","radial-gradient(circle at center, var(--sidebar-active-bg, #D9F275)15, transparent 70%)")("box-shadow","0 0 40px rgba(217, 242, 117, 0.3)"),i(),O("rtl-position",n.isRTL),M("title",d(8,73,"common.view")),i(2),h("color","var(--primary-text, #003032)"),O("rotate-180",n.isRTL),i(4),f(n.isCosmetic()?13:-1),i(),h("color","var(--sidebar-text, #E3F4F5)"),i(),m(" ",n.getDrugName()," "),i(),f(n.getManufacturer()?16:-1),i(2),f(n.drug.internalBarcode?18:-1),i(),f(n.drug.generalDrug!=null&&n.drug.generalDrug.internationalBarcode?19:-1),i(),h("color","var(--sidebar-text, #E3F4F5)"),i(2),m("",d(23,75,"drugCard.id"),":"),i(2),m(" #",n.drug.id," "),i(3),h("color","var(--sidebar-text, #E3F4F5)"),i(),m(" ",n.formatPrice(n.getCurrentPrice())," "),i(3),h("color","var(--sidebar-text, #E3F4F5)"),i(),m(" ",d(33,77,"drugCard.stockLevel")," "),i(2),h("color","var(--sidebar-text, #E3F4F5)"),i(),w(" ",n.drug.stockQuantity," / ",n.getMaxStock()," "),i(2),h("width",n.getStockPercentage(),"%"),O("bg-yellow-400",n.getStockPercentage()>=50)("bg-amber-500",n.getStockPercentage()>=25&&n.getStockPercentage()<50)("bg-red-400",n.getStockPercentage()<25),i(),h("color","var(--sidebar-text, #E3F4F5)"),i(2),H("",d(41,79,"drugCard.min"),": ",n.drug.minimumStock," ",d(42,81,"drugCard.units"),""),i(4),w("",d(45,83,"drugCard.method"),": ",n.getCostingMethod(),""),i(2),f(n.drug.expiryDate?46:-1),i(),f(n.drug.costLayers&&n.drug.costLayers.length>0?47:-1),i(2),f(n.badges&&n.badges.length>0?49:-1),i(),f(n.drug.status?50:-1),i(),h("right",n.isRTL?"auto":"1rem")("left",n.isRTL?"1rem":"auto"),i(),f(n.showEdit?52:-1),i(),f(n.showDelete?53:-1))},dependencies:[z,N],styles:['.drug-card[_ngcontent-%COMP%]{position:relative;overflow:visible;contain:layout;--w: 50px;--h: 50px;--outline: 20px;--radius: 20px;--offset: calc(-1 * var(--outline));--size: calc(var(--radius) + var(--outline));background:calc(100% - var(--offset)) var(--h) radial-gradient(circle at left bottom,transparent var(--radius),#F7F7F7 var(--radius)),calc(100% - var(--w)) var(--offset) radial-gradient(circle at left bottom,transparent var(--radius),#F7F7F7 var(--radius)),var(--sidebar-bg, #003032);background-repeat:no-repeat;background-size:var(--size) var(--size),var(--size) var(--size),cover}[dir=rtl][_ngcontent-%COMP%]   .drug-card[_ngcontent-%COMP%], [dir="rtl"][_nghost-%COMP%]   .drug-card[_ngcontent-%COMP%], [dir="rtl"]   [_nghost-%COMP%]   .drug-card[_ngcontent-%COMP%], html[dir="rtl"][_nghost-%COMP%]   .drug-card[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   .drug-card[_ngcontent-%COMP%]{background:var(--offset) var(--h) radial-gradient(circle at right bottom,transparent var(--radius),#F7F7F7 var(--radius)),var(--w) var(--offset) radial-gradient(circle at right bottom,transparent var(--radius),#F7F7F7 var(--radius)),var(--sidebar-bg, #003032);background-repeat:no-repeat;background-size:var(--size) var(--size),var(--size) var(--size),cover}.imported-card[_ngcontent-%COMP%]:after{content:"";position:absolute;right:0;top:79px;bottom:0;width:5px;background:var(--sidebar-active-bg, #D9F275);border-radius:0 16px 16px 0;box-shadow:3px 0 12px #d9f2754d;z-index:5}[dir=rtl][_ngcontent-%COMP%]   .imported-card[_ngcontent-%COMP%]:after, [dir="rtl"][_nghost-%COMP%]   .imported-card[_ngcontent-%COMP%]:after, [dir="rtl"]   [_nghost-%COMP%]   .imported-card[_ngcontent-%COMP%]:after, html[dir="rtl"][_nghost-%COMP%]   .imported-card[_ngcontent-%COMP%]:after, html[dir="rtl"]   [_nghost-%COMP%]   .imported-card[_ngcontent-%COMP%]:after{right:auto;left:0;border-radius:16px 0 0 16px;box-shadow:-3px 0 12px #d9f2754d}.import-badge-left[_ngcontent-%COMP%]{position:absolute;bottom:1rem;right:-14px;background:var(--sidebar-active-bg, #D9F275);color:var(--sidebar-active-text, #003032);font-size:.85rem;font-weight:800;padding:.5rem .65rem;border-radius:6px;writing-mode:vertical-rl;text-orientation:mixed;letter-spacing:.15em;box-shadow:0 4px 12px #00000040;z-index:11;animation:_ngcontent-%COMP%_slideInRight .5s ease-out}@keyframes _ngcontent-%COMP%_slideInRight{0%{right:-30px;opacity:0}to{right:-14px;opacity:1}}[dir=rtl][_ngcontent-%COMP%]   .import-badge-left[_ngcontent-%COMP%], [dir="rtl"][_nghost-%COMP%]   .import-badge-left[_ngcontent-%COMP%], [dir="rtl"]   [_nghost-%COMP%]   .import-badge-left[_ngcontent-%COMP%], html[dir="rtl"][_nghost-%COMP%]   .import-badge-left[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   .import-badge-left[_ngcontent-%COMP%]{right:auto;left:-14px;animation:_ngcontent-%COMP%_slideInLeft .5s ease-out}@keyframes _ngcontent-%COMP%_slideInLeft{0%{left:-30px;opacity:0}to{left:-14px;opacity:1}}.cosmetic-badge-inline[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;background:linear-gradient(135deg,#ec4899,#db2777);color:#fff;padding:.35rem .75rem;border-radius:6px;font-size:.75rem;font-weight:600;margin-bottom:.75rem;box-shadow:0 2px 8px #ec489940;animation:_ngcontent-%COMP%_fadeInScale .4s ease-out}@keyframes _ngcontent-%COMP%_fadeInScale{0%{opacity:0;transform:scale(.9)}to{opacity:1;transform:scale(1)}}.selection-overlay[_ngcontent-%COMP%]{z-index:15;opacity:0;transform:scale(.98)}.selection-overlay.active[_ngcontent-%COMP%]{opacity:1;transform:scale(1);pointer-events:auto}.selection-overlay[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{box-shadow:inset 0 0 80px #d9f27526,0 0 0 3px var(--primary-bg, #D9F275),0 8px 24px #0003}.corner-glow[_ngcontent-%COMP%]{position:absolute;width:80px;height:80px;border-radius:50%;background:radial-gradient(circle,var(--primary-bg, #D9F275) 0%,transparent 70%);opacity:0;filter:blur(20px)}.corner-glow-1[_ngcontent-%COMP%]{top:-20px;right:-20px}.corner-glow-2[_ngcontent-%COMP%]{bottom:-20px;right:-20px}.corner-glow-3[_ngcontent-%COMP%]{top:-20px;left:-20px}.corner-glow-4[_ngcontent-%COMP%]{bottom:-20px;left:-20px}.selection-overlay.active[_ngcontent-%COMP%]   .corner-glow[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_glowPulse 2s ease-in-out infinite}.selection-overlay.active[_ngcontent-%COMP%]   .corner-glow-1[_ngcontent-%COMP%]{animation-delay:0s}.selection-overlay.active[_ngcontent-%COMP%]   .corner-glow-2[_ngcontent-%COMP%]{animation-delay:.5s}.selection-overlay.active[_ngcontent-%COMP%]   .corner-glow-3[_ngcontent-%COMP%]{animation-delay:1s}.selection-overlay.active[_ngcontent-%COMP%]   .corner-glow-4[_ngcontent-%COMP%]{animation-delay:1.5s}@keyframes _ngcontent-%COMP%_glowPulse{0%,to{opacity:.3;transform:scale(1)}50%{opacity:.6;transform:scale(1.2)}}.checkmark-container[_ngcontent-%COMP%]{position:relative;width:80px;height:80px;transform:scale(0);opacity:0}.selection-overlay.active[_ngcontent-%COMP%]   .checkmark-container[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_checkmarkBounce .5s cubic-bezier(.68,-.55,.265,1.55) forwards}@keyframes _ngcontent-%COMP%_checkmarkBounce{0%{transform:scale(0) rotate(-45deg);opacity:0}70%{transform:scale(1.15) rotate(5deg);opacity:1}to{transform:scale(1) rotate(0);opacity:1}}.checkmark-circle[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%;background:linear-gradient(135deg,var(--primary-bg, #D9F275) 0%,#bef264 100%);display:flex;align-items:center;justify-content:center;box-shadow:0 0 0 3px var(--sidebar-bg, #003032),0 0 0 6px var(--primary-bg, #D9F275),0 8px 20px #0000004d;position:relative}.checkmark-circle[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;border-radius:50%;background:linear-gradient(135deg,rgba(255,255,255,.5),transparent);opacity:.8}.checkmark-circle[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:-6px;border-radius:50%;background:transparent;border:2px solid var(--primary-bg, #D9F275);animation:_ngcontent-%COMP%_ripple 1.5s ease-out infinite}@keyframes _ngcontent-%COMP%_ripple{0%{transform:scale(1);opacity:1}to{transform:scale(1.5);opacity:0}}.checkmark-icon[_ngcontent-%COMP%]{width:40px;height:40px;color:var(--primary-text, #003032);position:relative;z-index:1;filter:drop-shadow(0 2px 4px rgba(0,0,0,.3))}.checkmark-path[_ngcontent-%COMP%]{stroke-dasharray:50;stroke-dashoffset:50}.selection-overlay.active[_ngcontent-%COMP%]   .checkmark-path[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_drawCheck .4s ease-out .3s forwards}@keyframes _ngcontent-%COMP%_drawCheck{to{stroke-dashoffset:0}}.view-button[_ngcontent-%COMP%]{position:absolute;top:2px;right:0;width:var(--w);height:var(--h);outline:var(--outline) solid #F7F7F7;border-radius:50%;background:var(--primary-bg, #D9F275);border-color:var(--primary-bg);display:grid;place-items:center;cursor:pointer;transition:background .15s ease,transform .15s ease;z-index:20;padding:0;border:none;box-shadow:0 4px 12px #0003}.view-button[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.view-button.rtl-position[_ngcontent-%COMP%], [dir=rtl][_ngcontent-%COMP%]   .view-button[_ngcontent-%COMP%], [dir="rtl"][_nghost-%COMP%]   .view-button[_ngcontent-%COMP%], [dir="rtl"]   [_nghost-%COMP%]   .view-button[_ngcontent-%COMP%], html[dir="rtl"][_nghost-%COMP%]   .view-button[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   .view-button[_ngcontent-%COMP%]{right:auto;left:0}.drug-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:1px;background:linear-gradient(90deg,transparent,rgba(255,255,255,.1),transparent);opacity:0;transition:opacity .2s;z-index:2}.drug-card[_ngcontent-%COMP%]:hover:before{opacity:1}[dir=rtl][_ngcontent-%COMP%]   .drug-card[_ngcontent-%COMP%]{direction:rtl}[dir="rtl"][_nghost-%COMP%]   .action-buttons[_ngcontent-%COMP%], [dir="rtl"]   [_nghost-%COMP%]   .action-buttons[_ngcontent-%COMP%], [dir="rtl"][_nghost-%COMP%]   .action-buttons.right-4[_ngcontent-%COMP%], [dir="rtl"]   [_nghost-%COMP%]   .action-buttons.right-4[_ngcontent-%COMP%], [dir="rtl"][_nghost-%COMP%]   .drug-card[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%], [dir="rtl"]   [_nghost-%COMP%]   .drug-card[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{right:auto!important;left:1rem!important}html[dir="rtl"][_nghost-%COMP%]   .action-buttons[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   .action-buttons[_ngcontent-%COMP%]{right:auto!important;left:1rem!important}[dir=rtl][_ngcontent-%COMP%]   .drug-card[_ngcontent-%COMP%]   .absolute.bottom-0.right-0[_ngcontent-%COMP%]{right:auto;left:0}.arrow-icon-ltr[_ngcontent-%COMP%]{display:block}.drug-card[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}']})};var Se=["deleteModal"],De=["importModal"],Ee=["requestProductModal"],Fe=(o,e)=>e.id;function Te(o,e){if(o&1&&g(0,"app-alert",5),o&2){let t=u();M("title",t.errorMessage)}}function Ie(o,e){if(o&1){let t=S();r(0,"div",35)(1,"span",51),c(2),l(3,"translate"),a(),r(4,"app-button",52),x("onClick",function(){_(t);let s=u();return v(s.createInvoiceFromSelection())}),C(),r(5,"svg",53),g(6,"path",54),a(),c(7),l(8,"translate"),a(),P(),r(9,"button",55),l(10,"translate"),x("click",function(){_(t);let s=u();return v(s.clearSelection())}),C(),r(11,"svg",56),g(12,"path",57),a()()()}if(o&2){let t=u();i(2),w(" ",t.selectedDrugIds.size," ",d(3,5,"invoice.drugsSelected")," "),i(5),w(" ",d(8,7,"invoice.createInvoice")," (",t.selectedDrugIds.size,") "),i(2),M("title",d(10,9,"common.clear"))}}function Le(o,e){o&1&&(r(0,"div",36)(1,"div",58),c(2),l(3,"translate"),a()()),o&2&&(i(2),y(d(3,1,"common.loading")))}function Be(o,e){if(o&1){let t=S();r(0,"app-button",52),x("onClick",function(){_(t);let s=u(2);return v(s.openRequestProductModal())}),C(),r(1,"svg",53),g(2,"path",34),a(),c(3),l(4,"translate"),a()}o&2&&(i(3),m(" ",d(4,1,"button.requestProduct")," "))}function Ve(o,e){if(o&1&&(r(0,"div",37),C(),r(1,"svg",59),g(2,"path",60),a(),P(),r(3,"p",61),c(4),l(5,"translate"),a(),b(6,Be,5,3,"app-button",62),a()),o&2){let t=u();i(4),y(d(5,2,"empty.noDrugs")),i(2),f(t.searchQuery.trim()?6:-1)}}function qe(o,e){if(o&1){let t=S();r(0,"app-drug-card",64),x("view",function(){let s=_(t).$implicit,p=u(2);return v(p.viewDrug(s.id))})("edit",function(){let s=_(t).$implicit,p=u(2);return v(p.editDrug(s.id))})("delete",function(){let s=_(t).$implicit,p=u(2);return v(p.confirmDelete(s))})("selectionToggle",function(s){let p=_(t).$implicit,D=u(2);return v(D.onDrugSelectionToggle(p.id,s))}),a()}if(o&2){let t=e.$implicit,n=u(2);M("drug",t)("badges",n.getBadges(t))("selectionMode",n.selectionMode)("selected",n.selectedDrugIds.has(t.id))}}function ze(o,e){if(o&1&&(r(0,"div",38),F(1,qe,1,4,"app-drug-card",63,Fe),a()),o&2){let t=u();i(),T(t.drugs)}}function je(o,e){if(o&1&&(r(0,"p",44)(1,"span",65),c(2),l(3,"translate"),a(),c(4),a()),o&2){let t=u();i(2),m("",d(3,2,"button.selectedFile"),":"),i(2),m(" ",t.selectedFile.name," ")}}function Ne(o,e){if(o&1&&g(0,"app-alert",5),o&2){let t=u();M("title",t.importError)}}function Re(o,e){if(o&1&&g(0,"app-alert",45),o&2){let t=u();M("title",t.importSuccess)}}function $e(o,e){o&1&&(r(0,"p",49),c(1),l(2,"translate"),a()),o&2&&(i(),y(d(2,1,"validation.nameRequired")))}var de=class o{router=k(Y);drugsService=k(ae);invoiceCartService=k(se);requestedProductsService=k(le);toastService=k(re);translationService=k(j);fb=k(ee);drugs=[];searchQuery="";errorMessage="";loading=!1;deleting=!1;selectedDrugId=null;lowStockCount=0;expiringCount=0;importing=!1;selectedFile=null;importError="";importSuccess="";selectionMode=!1;selectedDrugIds=new Set;requestingProduct=!1;requestProductForm;deleteModal;importModal;requestProductModal;pagination={page:1,pageSize:10,total:0,totalPages:0};ngOnInit(){this.loadDrugs(),this.checkAlerts(),this.initRequestProductForm()}initRequestProductForm(){this.requestProductForm=this.fb.group({productName:["",[U.required]],notes:[""]})}loadDrugs(){this.loading=!0,this.drugsService.getPharmacyDrugs({page:this.pagination.page,pageSize:this.pagination.pageSize}).subscribe({next:e=>{this.drugs=e.data,this.pagination={page:e.page,pageSize:e.pageSize,total:e.total,totalPages:e.totalPages},this.loading=!1},error:()=>{this.errorMessage="Failed to load drugs",this.loading=!1}})}checkAlerts(){this.drugsService.getLowStockDrugs().subscribe({next:e=>{this.lowStockCount=e.length}}),this.drugsService.getExpiringDrugs(30).subscribe({next:e=>{this.expiringCount=e.length}})}onSearch(){this.searchQuery.trim()?(this.loading=!0,this.drugsService.searchPharmacyDrugs(this.searchQuery).subscribe({next:e=>{this.drugs=e,this.pagination={page:1,pageSize:10,total:e.length,totalPages:Math.ceil(e.length/10)},this.loading=!1},error:()=>{this.errorMessage="Search failed",this.loading=!1}})):this.loadDrugs()}navigateToNew(){this.router.navigate(["/drugs/new"])}viewDrug(e){this.router.navigate(["/drugs",e])}editDrug(e){this.router.navigate(["/drugs",e,"edit"])}confirmDelete(e){this.selectedDrugId=e.id,this.deleteModal.open()}deleteDrug(){this.selectedDrugId&&(this.deleting=!0,this.drugsService.deletePharmacyDrug(this.selectedDrugId).subscribe({next:e=>{e&&(this.loadDrugs(),this.checkAlerts(),this.deleteModal.close(),this.selectedDrugId=null),this.deleting=!1},error:()=>{this.errorMessage="Failed to delete drug",this.deleting=!1}}))}openImportModal(){this.selectedFile=null,this.importError="",this.importSuccess="",this.importModal.open()}onFileSelected(e){let t=e.target;if(t.files&&t.files.length>0){let n=t.files[0],s=n.name.split(".").pop()?.toLowerCase();s&&["csv","xlsx","xls"].includes(s)?(this.selectedFile=n,this.importError=""):(this.importError="Please select a valid CSV or Excel file",this.selectedFile=null)}}handleImport(){if(!this.selectedFile){this.importError="Please select a file to import";return}this.importing=!0,this.importError="",this.importSuccess="",setTimeout(()=>{this.importing=!1,this.importSuccess=`File "${this.selectedFile.name}" uploaded successfully. Import functionality will process the file.`,setTimeout(()=>{this.selectedFile=null,this.importModal.close(),this.loadDrugs()},2e3)},1500)}getBadges(e){let t=[];if(e.classification){let n=e.classification==="medicinal"?"drug.classification.medicinal":"drug.classification.cosmetic";t.push({label:n,variant:e.classification==="medicinal"?"info":"default"})}if(e.origin){let n=e.origin==="local"?"drug.origin.local":"drug.origin.imported";t.push({label:n,variant:e.origin==="local"?"success":"warning"})}if(e.stockQuantity<=e.minimumStock&&t.push({label:"Low Stock",variant:"warning"}),e.expiryDate){let n=new Date(e.expiryDate),s=new Date,p=Math.ceil((n.getTime()-s.getTime())/(1e3*60*60*24));p>0&&p<=30&&t.push({label:"Expiring Soon",variant:"danger"})}return t}toggleSelectionMode(){this.selectionMode=!this.selectionMode,this.selectionMode||this.selectedDrugIds.clear()}onDrugSelectionToggle(e,t){t?this.selectedDrugIds.add(e):this.selectedDrugIds.delete(e)}clearSelection(){this.selectedDrugIds.clear()}createInvoiceFromSelection(){if(this.selectedDrugIds.size===0)return;this.drugs.filter(t=>this.selectedDrugIds.has(t.id)).forEach(t=>{this.invoiceCartService.addDrug(t)}),this.selectedDrugIds.clear(),this.selectionMode=!1,this.router.navigate(["/invoices/new"])}openRequestProductModal(){let e=this.searchQuery.trim();this.requestProductForm.patchValue({productName:e,notes:""}),this.requestProductModal.open()}submitProductRequest(){if(this.requestProductForm.valid){this.requestingProduct=!0;let{productName:e,notes:t}=this.requestProductForm.value;this.requestedProductsService.createRequest(e,t).subscribe({next:()=>{this.requestingProduct=!1,this.requestProductModal.close(),this.requestProductForm.reset();let n=this.translationService.translate("requestedProduct.successMessage");this.toastService.success(n)},error:()=>{this.requestingProduct=!1,this.errorMessage="Failed to submit product request"}})}else Object.keys(this.requestProductForm.controls).forEach(e=>{this.requestProductForm.get(e)?.markAsTouched()})}formatDate(e){let t=new Date(e),n=String(t.getDate()).padStart(2,"0"),s=String(t.getMonth()+1).padStart(2,"0"),p=t.getFullYear();return`${n}-${s}-${p}`}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=I({type:o,selectors:[["app-drugs-list"]],viewQuery:function(t,n){if(t&1&&(B(Se,5),B(De,5),B(Ee,5)),t&2){let s;V(s=q())&&(n.deleteModal=s.first),V(s=q())&&(n.importModal=s.first),V(s=q())&&(n.requestProductModal=s.first)}},decls:105,vars:84,consts:[["deleteModal",""],["importModal",""],["fileInput",""],["requestProductModal",""],[1,"space-y-6"],["type","error",3,"title"],[1,"search-hero"],[1,"floating-orb"],[1,"search-wrapper"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"search-icon-hero"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"],["type","text",1,"search-input-hero",3,"input","placeholder","value"],[1,"hero-content-wrapper"],[1,"info-banner-integrated"],[1,"info-banner-pattern"],[1,"info-banner-content"],[1,"info-item"],[1,"info-icon","cosmetic-icon"],[1,"sparkle"],[1,"info-text"],[1,"info-label"],[1,"info-description"],[1,"info-divider"],[1,"info-icon","imported-icon"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",2,"width","20px","height","20px"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2.5","d","M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"],[1,"action-pills-wrapper"],["type","button",1,"pill-button",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"pill-icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"],["type","button",1,"pill-button"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"],["type","button",1,"pill-button","primary",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 4v16m8-8H4"],[1,"fixed","bottom-6","left-1/2","transform","-translate-x-1/2","z-50","bg-white","shadow-lg","rounded-lg","px-6","py-4","border-2","border-[#166534]","flex","items-center","gap-4"],[1,"flex","items-center","justify-center","py-12"],[1,"flex","flex-col","items-center","justify-center","py-12","text-gray-500"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-6"],[3,"confirmed","title","showFooter","confirmText","confirmLoading"],[1,"space-y-4"],[1,"block","text-sm","font-medium","text-gray-700","mb-2"],["type","file","accept",".csv,.xlsx,.xls",1,"w-full","px-4","py-2","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-[#166534]","focus:border-[#166534]","text-sm",3,"change"],[1,"mt-2","text-xs","text-gray-500"],[1,"mt-2","text-sm","text-gray-700"],["type","success",3,"title"],[1,"space-y-4",3,"formGroup"],[1,"text-red-500"],["type","text","formControlName","productName",1,"w-full","px-4","py-2","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-[#166534]","focus:border-[#166534]"],[1,"mt-1","text-sm","text-red-600"],["formControlName","notes","rows","3",1,"w-full","px-4","py-2","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-[#166534]","focus:border-[#166534]",3,"placeholder"],[1,"text-gray-700","font-medium"],["variant","primary",3,"onClick"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","inline","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"],["type","button",1,"text-gray-500","hover:text-gray-700",3,"click","title"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"text-gray-500"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-16","h-16","mb-4","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"],[1,"text-lg","font-medium","mb-4"],["variant","primary"],[3,"drug","badges","selectionMode","selected"],[3,"view","edit","delete","selectionToggle","drug","badges","selectionMode","selected"],[1,"font-medium"]],template:function(t,n){if(t&1){let s=S();r(0,"div",4),b(1,Te,1,1,"app-alert",5),r(2,"div",6),g(3,"div",7),r(4,"div",8),C(),r(5,"svg",9),g(6,"path",10),a(),P(),r(7,"input",11),l(8,"translate"),x("input",function(D){return _(s),n.searchQuery=D.target.value,v(n.onSearch())}),a()(),r(9,"div",12)(10,"div",13),g(11,"div",14),r(12,"div",15)(13,"div",16)(14,"div",17)(15,"span",18),c(16,"\u2728"),a()(),r(17,"div",19)(18,"span",20),c(19),l(20,"translate"),a(),r(21,"span",21),c(22),l(23,"translate"),a()()(),g(24,"div",22),r(25,"div",16)(26,"div",23),C(),r(27,"svg",24),g(28,"path",25),a()(),P(),r(29,"div",19)(30,"span",20),c(31),l(32,"translate"),a(),r(33,"span",21),c(34),l(35,"translate"),a()()()()(),r(36,"div",26)(37,"button",27),x("click",function(){return _(s),v(n.toggleSelectionMode())}),C(),r(38,"svg",28),g(39,"path",29),a(),c(40),l(41,"translate"),l(42,"translate"),a(),P(),r(43,"button",27),x("click",function(){return _(s),v(n.openImportModal())}),C(),r(44,"svg",28),g(45,"path",30),a(),c(46),l(47,"translate"),a(),P(),r(48,"button",31),C(),r(49,"svg",28),g(50,"path",32),a(),c(51),l(52,"translate"),a(),P(),r(53,"button",33),x("click",function(){return _(s),v(n.navigateToNew())}),C(),r(54,"svg",28),g(55,"path",34),a(),c(56),l(57,"translate"),a()()()(),b(58,Ie,13,11,"div",35)(59,Le,4,3,"div",36)(60,Ve,7,4,"div",37)(61,ze,3,0,"div",38),P(),r(62,"app-modal",39,0),l(64,"translate"),l(65,"translate"),x("confirmed",function(){return _(s),v(n.deleteDrug())}),r(66,"p"),c(67),l(68,"translate"),a()(),r(69,"app-modal",39,1),l(71,"translate"),l(72,"translate"),x("confirmed",function(){return _(s),v(n.handleImport())}),r(73,"div",40)(74,"div")(75,"label",41),c(76),l(77,"translate"),a(),r(78,"input",42,2),x("change",function(D){return _(s),v(n.onFileSelected(D))}),a(),r(80,"p",43),c(81),l(82,"translate"),a(),b(83,je,5,4,"p",44),a(),b(84,Ne,1,1,"app-alert",5)(85,Re,1,1,"app-alert",45),a()(),r(86,"app-modal",39,3),l(88,"translate"),l(89,"translate"),x("confirmed",function(){return _(s),v(n.submitProductRequest())}),r(90,"form",46)(91,"div")(92,"label",41),c(93),l(94,"translate"),r(95,"span",47),c(96,"*"),a()(),g(97,"input",48),b(98,$e,3,3,"p",49),a(),r(99,"div")(100,"label",41),c(101),l(102,"translate"),a(),g(103,"textarea",50),l(104,"translate"),a()()()()}if(t&2){let s,p;i(),f(n.errorMessage?1:-1),i(6),M("placeholder",d(8,40,"search.placeholder"))("value",n.searchQuery),i(12),y(d(20,42,"info.cosmeticProducts")),i(3),y(d(23,44,"info.cosmeticDescription")),i(9),y(d(32,46,"info.importedProducts")),i(3),y(d(35,48,"info.importedDescription")),i(3),O("active",n.selectionMode),i(3),m(" ",n.selectionMode?d(41,50,"button.cancelSelection"):d(42,52,"button.selectForInvoice")," "),i(6),m(" ",d(47,54,"button.import")," "),i(5),m(" ",d(52,56,"common.export")," "),i(5),m(" ",d(57,58,"button.addNewDrug")," "),i(2),f(n.selectionMode&&n.selectedDrugIds.size>0?58:-1),i(),f(n.loading?59:n.drugs.length===0?60:61),i(3),M("title",d(64,60,"button.deleteDrug"))("showFooter",!0)("confirmText",d(65,62,"common.delete"))("confirmLoading",n.deleting),i(5),y(d(68,64,"modal.deleteDrugConfirm")),i(2),M("title",d(71,66,"button.importDrugs"))("showFooter",!0)("confirmText",d(72,68,"button.upload"))("confirmLoading",n.importing),i(7),m(" ",d(77,70,"button.selectFile")," "),i(5),m(" ",d(82,72,"button.importFileFormat")," "),i(2),f(n.selectedFile?83:-1),i(),f(n.importError?84:-1),i(),f(n.importSuccess?85:-1),i(),M("title",d(88,74,"button.requestProduct"))("showFooter",!0)("confirmText",d(89,76,"common.submit"))("confirmLoading",n.requestingProduct),i(4),M("formGroup",n.requestProductForm),i(3),m(" ",d(94,78,"requestedProduct.productName")," "),i(4),O("border-red-500",((s=n.requestProductForm.get("productName"))==null?null:s.invalid)&&((s=n.requestProductForm.get("productName"))==null?null:s.touched)),i(),f((p=n.requestProductForm.get("productName"))!=null&&p.invalid&&((p=n.requestProductForm.get("productName"))!=null&&p.touched)?98:-1),i(3),m(" ",d(102,80,"requestedProduct.notes")," "),i(2),M("placeholder",d(104,82,"requestedProduct.notesPlaceholder"))}},dependencies:[z,ie,oe,ne,N,R,te,W,A,J,K,X,Z],styles:['.search-hero[_ngcontent-%COMP%]{position:relative;background:linear-gradient(135deg,#003032,#004547);border-radius:20px;padding:2.5rem;overflow:hidden;box-shadow:0 8px 24px #00303226;margin-bottom:2rem}.floating-orb[_ngcontent-%COMP%]{position:absolute;top:-50%;right:-10%;width:300px;height:300px;background:radial-gradient(circle,rgba(217,242,117,.15),transparent);border-radius:50%;animation:_ngcontent-%COMP%_float 6s ease-in-out infinite}@keyframes _ngcontent-%COMP%_float{0%,to{transform:translateY(0) scale(1)}50%{transform:translateY(-20px) scale(1.1)}}.search-wrapper[_ngcontent-%COMP%]{position:relative;margin:0 auto}.search-input-hero[_ngcontent-%COMP%]{width:100%;padding:1.25rem 1.5rem 1.25rem 3.5rem;border:2px solid rgba(217,242,117,.3);border-radius:16px;font-size:1rem;background:#fffffff2;backdrop-filter:blur(10px);transition:all .3s ease;box-shadow:0 8px 24px #00000026}.search-input-hero[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.search-input-hero[_ngcontent-%COMP%]:focus{outline:none;border-color:#d9f275;box-shadow:0 12px 32px #d9f27540;transform:translateY(-2px)}.search-icon-hero[_ngcontent-%COMP%]{position:absolute;left:1.25rem;top:50%;transform:translateY(-50%);color:#003032;width:20px;height:20px}.hero-content-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:1.5rem;align-items:start}.action-pills-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:.75rem}.pill-button[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border-radius:50px;border:2px solid rgba(255,255,255,.2);background:#ffffff1a;backdrop-filter:blur(10px);color:#e3f4f5;font-size:.9rem;font-weight:600;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center;gap:.5rem}.pill-button[_ngcontent-%COMP%]:hover{background:#d9f275;color:#003032;border-color:#d9f275;transform:translate(4px);box-shadow:0 4px 12px #d9f2754d}.pill-button.primary[_ngcontent-%COMP%]{background:#d9f275;color:#003032;border-color:#d9f275}.pill-button.primary[_ngcontent-%COMP%]:hover{background:#bef264;transform:translate(4px) scale(1.02)}.pill-button.active[_ngcontent-%COMP%]{background:#d9f275;color:#003032;border-color:#d9f275}.pill-icon[_ngcontent-%COMP%]{width:18px;height:18px}.info-banner-integrated[_ngcontent-%COMP%]{backdrop-filter:blur(10px);height:100%;display:flex;align-items:center}.info-banner-pattern[_ngcontent-%COMP%]{position:absolute;inset:0;opacity:.03;background-image:repeating-linear-gradient(45deg,transparent,transparent 10px,rgba(227,244,245,.5) 10px,rgba(227,244,245,.5) 11px);pointer-events:none;border-radius:16px}.info-banner-content[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;justify-content:center;gap:2rem;flex-wrap:wrap;width:100%}.info-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;animation:_ngcontent-%COMP%_fadeInUp .6s ease-out}.info-item[_ngcontent-%COMP%]:nth-child(2){animation-delay:.1s}.info-item[_ngcontent-%COMP%]:nth-child(3){animation-delay:.2s}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.info-icon[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:12px;display:flex;align-items:center;justify-content:center;flex-shrink:0;position:relative;transition:transform .3s ease}.info-item[_ngcontent-%COMP%]:hover   .info-icon[_ngcontent-%COMP%]{transform:scale(1.1) rotate(5deg)}.cosmetic-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ec4899,#db2777);box-shadow:0 4px 12px #ec489966,inset 0 1px #fff3}.cosmetic-icon[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:-2px;border-radius:12px;background:linear-gradient(135deg,#ec4899,#db2777);opacity:.4;filter:blur(8px);z-index:-1}.sparkle[_ngcontent-%COMP%]{font-size:1.5rem;animation:_ngcontent-%COMP%_sparkleRotate 3s linear infinite}@keyframes _ngcontent-%COMP%_sparkleRotate{0%,to{transform:rotate(0)}25%{transform:rotate(10deg)}75%{transform:rotate(-10deg)}}.imported-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#d9f275,#bef264);color:#003032;box-shadow:0 4px 12px #d9f27580,inset 0 1px #ffffff4d}.imported-icon[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:-2px;border-radius:12px;background:linear-gradient(135deg,#d9f275,#bef264);opacity:.5;filter:blur(8px);z-index:-1}.imported-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_floatUp 2s ease-in-out infinite}@keyframes _ngcontent-%COMP%_floatUp{0%,to{transform:translateY(0)}50%{transform:translateY(-4px)}}.info-text[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.info-label[_ngcontent-%COMP%]{color:#e3f4f5;font-size:.95rem;font-weight:700;letter-spacing:.025em}.info-description[_ngcontent-%COMP%]{color:#e3f4f5b3;font-size:.8rem;font-weight:500}.info-divider[_ngcontent-%COMP%]{width:2px;height:48px;background:linear-gradient(to bottom,transparent,rgba(227,244,245,.3),transparent);position:relative}.info-divider[_ngcontent-%COMP%]:before{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:6px;height:6px;border-radius:50%;background:#d9f275;box-shadow:0 0 12px #d9f275cc;animation:_ngcontent-%COMP%_pulse 2s ease-in-out infinite}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1;transform:translate(-50%,-50%) scale(1)}50%{opacity:.6;transform:translate(-50%,-50%) scale(1.3)}}[dir=rtl][_ngcontent-%COMP%]   .info-banner-content[_ngcontent-%COMP%], [dir="rtl"][_nghost-%COMP%]   .info-banner-content[_ngcontent-%COMP%], [dir="rtl"]   [_nghost-%COMP%]   .info-banner-content[_ngcontent-%COMP%]{direction:rtl}[dir=rtl][_ngcontent-%COMP%]   .search-icon-hero[_ngcontent-%COMP%], [dir="rtl"][_nghost-%COMP%]   .search-icon-hero[_ngcontent-%COMP%], [dir="rtl"]   [_nghost-%COMP%]   .search-icon-hero[_ngcontent-%COMP%]{left:auto;right:1.25rem}[dir=rtl][_ngcontent-%COMP%]   .search-input-hero[_ngcontent-%COMP%], [dir="rtl"][_nghost-%COMP%]   .search-input-hero[_ngcontent-%COMP%], [dir="rtl"]   [_nghost-%COMP%]   .search-input-hero[_ngcontent-%COMP%]{padding:1.25rem 3.5rem 1.25rem 1.5rem}[dir=rtl][_ngcontent-%COMP%]   .pill-button[_ngcontent-%COMP%]:hover, [dir="rtl"][_nghost-%COMP%]   .pill-button[_ngcontent-%COMP%]:hover, [dir="rtl"]   [_nghost-%COMP%]   .pill-button[_ngcontent-%COMP%]:hover{transform:translate(-4px)}[dir=rtl][_ngcontent-%COMP%]   .pill-button.primary[_ngcontent-%COMP%]:hover, [dir="rtl"][_nghost-%COMP%]   .pill-button.primary[_ngcontent-%COMP%]:hover, [dir="rtl"]   [_nghost-%COMP%]   .pill-button.primary[_ngcontent-%COMP%]:hover{transform:translate(-4px) scale(1.02)}@media (max-width: 968px){.hero-content-wrapper[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1.5rem}.pill-button[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.pill-button.primary[_ngcontent-%COMP%]:hover{transform:translateY(-2px) scale(1.02)}}@media (max-width: 768px){.search-hero[_ngcontent-%COMP%]{padding:2rem 1.5rem}.action-pills-wrapper[_ngcontent-%COMP%]{gap:.5rem}.pill-button[_ngcontent-%COMP%]{padding:.65rem 1rem;font-size:.85rem}.info-banner-integrated[_ngcontent-%COMP%]{padding:1.25rem 1rem}.info-banner-content[_ngcontent-%COMP%]{gap:1.5rem;flex-direction:column}.info-divider[_ngcontent-%COMP%]{display:none}.info-item[_ngcontent-%COMP%]{width:100%;justify-content:center}}']})};export{de as DrugsListComponent};
