import{a as Pe}from"./chunk-VTYTIUDH.js";import{a as we}from"./chunk-5TIPBIQE.js";import{a as _e,b as Ie}from"./chunk-IVMEOUAV.js";import{a as q}from"./chunk-AKMVRB7K.js";import{b as Te}from"./chunk-DYYETH2D.js";import{a as W}from"./chunk-RI4HLURJ.js";import{a as Ce}from"./chunk-J55IG6XL.js";import"./chunk-3H4DSHVM.js";import{a as ye}from"./chunk-DLU7ZGG4.js";import{a as j}from"./chunk-THCZEFPZ.js";import{a as Q}from"./chunk-P5TE6FOK.js";import{a as xe}from"./chunk-N3GUYB4W.js";import"./chunk-VIUQYQMJ.js";import{a as fe}from"./chunk-YJWIIGXE.js";import{a as $}from"./chunk-YUKQXM5O.js";import"./chunk-M3W4QUEG.js";import"./chunk-BYXBJQAS.js";import{b as he,d as H}from"./chunk-QHH3SHC3.js";import{a as be}from"./chunk-GYQ2QOAA.js";import{a as R}from"./chunk-JEDHGX64.js";import{a as G}from"./chunk-KPWAPXFF.js";import"./chunk-ACQN7LQS.js";import{b as C}from"./chunk-7DC7YEPQ.js";import{$ as D,$a as n,$b as y,A as M,Bb as l,Cb as p,Db as le,Eb as S,Fb as ue,Ga as x,La as h,M as se,Ra as m,S as f,Sa as z,Wa as b,Y as P,Yb as ge,Z as T,Za as ce,_ as k,_a as ve,_b as O,ab as i,bb as c,db as F,eb as I,fb as u,j as B,jb as ne,kb as ae,lb as oe,nb as d,ob as s,pb as _,qb as re,rb as U,ua as me,xa as t}from"./chunk-OKFD3A6M.js";import{a as A,b as L}from"./chunk-KAT7YFEL.js";function Ee(a,r){if(a&1&&(n(0,"div",15),c(1,"app-stat-card",16),l(2,"translate"),c(3,"app-stat-card",16),l(4,"translate"),l(5,"currency"),c(6,"app-stat-card",16),l(7,"translate"),c(8,"app-stat-card",16),l(9,"translate"),l(10,"currency"),i()),a&2){let e,o,v=u();t(),m("label",p(2,12,"patient.overview.totalOrders"))("value",v.totalOrders)("icon",v.ordersIcon),t(2),m("label",p(4,14,"patient.overview.totalSpent"))("value",(e=S(5,16,v.totalSpent,"USD","","1.2-2"))!==null&&e!==void 0?e:"0.00")("icon",v.moneyIcon),t(3),m("label",p(7,21,"patient.overview.loyaltyPoints"))("value",v.loyaltyPoints)("icon",v.starIcon),t(2),m("label",p(9,23,"patient.overview.walletBalance"))("value",(o=S(10,25,v.walletBalance,"USD","","1.2-2"))!==null&&o!==void 0?o:"0.00")("icon",v.walletIcon)}}function Be(a,r){if(a&1&&(n(0,"div")(1,"label",7),d(2),l(3,"translate"),i(),n(4,"p",9),d(5),i()()),a&2){let e=u();t(2),s(p(3,2,"patient.email")),t(3),s(e.patient.email)}}function Me(a,r){if(a&1&&(n(0,"div")(1,"label",7),d(2),l(3,"translate"),i(),n(4,"p",9),d(5),i()()),a&2){let e=u();t(2),s(p(3,2,"patient.occupation")),t(3),s(e.patient.occupation)}}function De(a,r){if(a&1&&(d(0),l(1,"date")),a&2){let e=u(2);_(" ",le(1,1,e.patient.validUntil,"MM/yy")," ")}}function Ve(a,r){a&1&&d(0," - ")}function Oe(a,r){if(a&1&&(d(0),l(1,"date")),a&2){let e=u(2);_(" ",le(1,1,e.patient.issuedDate,"MM/yy")," ")}}function Re(a,r){a&1&&d(0," - ")}function je(a,r){if(a&1&&c(0,"img",33),a&2){let e=u(2);m("src",e.getPharmacyLogo(),me)}}function Ne(a,r){if(a&1&&(n(0,"div",34)(1,"span",35),d(2),i()()),a&2){let e=u(2);t(2),s(e.getPharmacyInitials())}}function Ae(a,r){if(a&1&&(n(0,"div",11)(1,"div",17)(2,"div",18),c(3,"div",19)(4,"div",20)(5,"div",21)(6,"div",22)(7,"div",23),i(),n(8,"div",24)(9,"div")(10,"div",25),d(11),i(),n(12,"div",26),d(13,"CARD NUMBER"),i(),n(14,"div",27),d(15),i()(),n(16,"div",28)(17,"div",29)(18,"div")(19,"div",30),d(20,"VALID"),i(),n(21,"div",31),h(22,De,2,4)(23,Ve,1,0),i()(),n(24,"div")(25,"div",30),d(26),l(27,"translate"),i(),n(28,"div",31),h(29,Oe,2,4)(30,Re,1,0),i()()(),n(31,"div",32),h(32,je,1,1,"img",33)(33,Ne,3,1,"div",34),i()()()()()),a&2){let e=u();t(11),s(e.patient.fullName),t(4),_(" ",e.patient.cardId," "),t(7),b(e.patient.validUntil?22:23),t(4),s(p(27,6,"patient.issuedDate")),t(3),b(e.patient.issuedDate?29:30),t(3),b(e.getPharmacyLogo()?32:33)}}function Le(a,r){if(a&1&&(n(0,"div",13)(1,"label",7),d(2),l(3,"translate"),i(),n(4,"p",9),d(5),i()()),a&2){let e=u();t(2),s(p(3,2,"patient.notes")),t(3),s(e.patient.address.notes)}}var J=class a{patient;pharmacyContext=f($);totalOrders=12;totalSpent=2450.75;loyaltyPoints=245;walletBalance=150.5;ordersIcon='<svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg>';moneyIcon='<svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>';starIcon='<svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"></path></svg>';walletIcon='<svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"></path></svg>';getPharmacyLogo(){return this.pharmacyContext.getCurrentPharmacy()?.logoUrl||null}getPharmacyInitials(){let r=this.pharmacyContext.getCurrentPharmacy();return r?.name?r.name.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2):"PH"}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=x({type:a,selectors:[["patient-overview-tab"]],inputs:{patient:"patient"},decls:77,vars:53,consts:[[1,"space-y-6"],["class","grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",4,"appCanAccess"],[1,"bg-[var(--card-bg)]","rounded-[var(--radius-lg)]","shadow-[var(--shadow-sm)]","p-6"],[1,"text-lg","font-semibold","text-[var(--text-primary)]","mb-4"],[1,"grid","grid-cols-1","lg:grid-cols-3","gap-6"],[1,"lg:col-span-2"],[1,"grid","grid-cols-2","gap-4"],[1,"block","text-sm","font-medium","text-[var(--card-text)]","mb-1"],[1,"text-[var(--text-primary)]","font-medium"],[1,"text-[var(--text-primary)]"],[1,"text-[var(--text-primary)]","capitalize"],[1,"lg:col-span-1"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-4"],[1,"md:col-span-2","lg:col-span-3"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","text-sm"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-4"],[3,"label","value","icon"],[1,"relative","rounded-2xl","p-8","shadow-xl","overflow-hidden",2,"background-color","var(--sidebar-bg)","min-height","220px"],[1,"absolute","inset-0","opacity-[0.15]","pointer-events-none",2,"color","var(--sidebar-text)"],[1,"absolute","rounded-full",2,"top","-10%","left","-5%","width","120px","height","120px","background-color","currentColor"],[1,"absolute","rounded-full",2,"top","10%","right","-8%","width","80px","height","80px","background-color","currentColor"],[1,"absolute","rounded-full",2,"bottom","-5%","right","10%","width","100px","height","100px","background-color","currentColor"],[1,"absolute","rounded-full",2,"bottom","15%","left","-5%","width","60px","height","60px","background-color","currentColor"],[1,"absolute","rounded-full",2,"top","50%","left","-8%","width","70px","height","70px","background-color","currentColor","transform","translateY(-50%)"],[1,"relative","z-10","flex","flex-col","justify-between","h-full",2,"color","var(--sidebar-text)"],[1,"text-lg","font-semibold","mb-6"],[1,"text-sm","opacity-90","mb-3"],[1,"text-xl","font-mono","tracking-wider","mb-8"],[1,"flex","items-end","justify-between"],[1,"flex","gap-6"],[1,"text-xs","opacity-80","mb-1"],[1,"text-sm","font-semibold"],[1,"flex","items-center","justify-center"],["alt","Pharmacy Logo",1,"h-10","w-auto","object-contain",3,"src"],[1,"w-16","h-10","rounded-lg","flex","items-center","justify-center",2,"background-color","rgba(227, 244, 245, 0.2)"],[1,"font-bold","text-lg",2,"color","var(--sidebar-text)"]],template:function(e,o){e&1&&(n(0,"div",0),h(1,Ee,11,30,"div",1),n(2,"div",2)(3,"h2",3),d(4),l(5,"translate"),i(),n(6,"div",4)(7,"div",5)(8,"div",6)(9,"div")(10,"label",7),d(11),l(12,"translate"),i(),n(13,"p",8),d(14),i()(),n(15,"div")(16,"label",7),d(17),l(18,"translate"),i(),n(19,"p",9),d(20),l(21,"dateFormat"),i()(),n(22,"div")(23,"label",7),d(24),l(25,"translate"),i(),n(26,"p",10),d(27),i()(),n(28,"div")(29,"label",7),d(30),l(31,"translate"),i(),n(32,"p",9),d(33),i()(),h(34,Be,6,4,"div")(35,Me,6,4,"div"),i()(),h(36,Ae,34,8,"div",11),i()(),n(37,"div",2)(38,"h2",3),d(39),l(40,"translate"),i(),n(41,"div",12)(42,"div")(43,"label",7),d(44),l(45,"translate"),i(),n(46,"p",9),d(47),i()(),n(48,"div")(49,"label",7),d(50),l(51,"translate"),i(),n(52,"p",9),d(53),i()(),n(54,"div")(55,"label",7),d(56),l(57,"translate"),i(),n(58,"p",9),d(59),i()(),h(60,Le,6,4,"div",13),i()(),n(61,"div",2)(62,"div",14)(63,"div")(64,"label",7),d(65),l(66,"translate"),i(),n(67,"p",9),d(68),l(69,"dateFormat"),i()(),n(70,"div")(71,"label",7),d(72),l(73,"translate"),i(),n(74,"p",9),d(75),l(76,"dateFormat"),i()()()()()),e&2&&(t(),m("appCanAccess","patient.overview.kpi-cards"),t(3),s(p(5,25,"patient.personalInfo")),t(7),s(p(12,27,"patient.fullName")),t(3),s(o.patient.fullName),t(3),s(p(18,29,"patient.dateOfBirth")),t(3),s(p(21,31,o.patient.dateOfBirth)),t(4),s(p(25,33,"patient.gender")),t(3),s(o.patient.gender),t(3),s(p(31,35,"patient.phone")),t(3),s(o.patient.phone),t(),b(o.patient.email?34:-1),t(),b(o.patient.occupation?35:-1),t(),b(o.patient.cardId?36:-1),t(3),s(p(40,37,"patient.addressInfo")),t(5),s(p(45,39,"patient.city")),t(3),s(o.patient.address.city),t(3),s(p(51,41,"patient.area")),t(3),s(o.patient.address.area),t(3),s(p(57,43,"patient.street")),t(3),s(o.patient.address.street),t(),b(o.patient.address.notes?60:-1),t(5),s(p(66,45,"invoice.createdAt")),t(3),s(p(69,47,o.patient.createdAt)),t(4),s(p(73,49,"common.lastUpdated")),t(3),s(p(76,51,o.patient.updatedAt)))},dependencies:[y,O,ge,Q,R,C,q],encapsulation:2})};var Y=class a{patientId;invoicesService=f(W);invoices=[];loading=!1;pagination={page:1,pageSize:10,total:0,totalPages:0};columns=[{key:"invoiceNumber",label:"invoice.invoiceNumber",sortable:!0},{key:"createdAt",label:"invoice.createdAt",sortable:!0},{key:"itemsCount",label:"invoice.items",sortable:!1},{key:"total",label:"invoice.total",sortable:!0},{key:"paymentStatus",label:"invoice.paymentStatus",sortable:!0}];ngOnInit(){this.loadInvoices()}loadInvoices(){this.loading=!0,this.invoicesService.getAll({page:this.pagination.page,pageSize:this.pagination.pageSize}).subscribe({next:r=>{let e=r.data.filter(o=>o.patientId===this.patientId);this.invoices=e.map(o=>L(A({},o),{itemsCount:`${o.items.length} items`})),this.pagination=L(A({},this.pagination),{total:e.length,totalPages:Math.ceil(e.length/this.pagination.pageSize)}),this.loading=!1},error:()=>{this.loading=!1}})}onPageChange(r){this.pagination.page=r,this.loadInvoices()}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=x({type:a,selectors:[["patient-orders-tab"]],inputs:{patientId:"patientId"},decls:7,vars:10,consts:[[1,"space-y-6"],[1,"bg-[var(--card-bg)]","rounded-[var(--radius-lg)]","shadow-[var(--shadow-sm)]","p-6"],[1,"text-lg","font-semibold","text-[var(--text-primary)]","mb-4"],[3,"onPageChange","columns","data","pagination","loading","emptyMessage"]],template:function(e,o){e&1&&(n(0,"div",0)(1,"div",1)(2,"h2",2),d(3),l(4,"translate"),i(),n(5,"app-table",3),l(6,"translate"),I("onPageChange",function(g){return o.onPageChange(g)}),i()()()),e&2&&(t(3),s(p(4,6,"patient.orders.title")),t(2),m("columns",o.columns)("data",o.invoices)("pagination",o.pagination)("loading",o.loading)("emptyMessage",p(6,8,"patient.orders.noOrders")))},dependencies:[y,j,C],encapsulation:2})};var N=class a{pharmacyContextService=f($);getPatientTimeline(r){return this.pharmacyContextService.getCurrentPharmacy()?.id?B([{id:"1",title:"Prescription Filled",description:"Paracetamol 500mg - 2 boxes",timestamp:new Date("2024-11-25"),type:"success",metadata:{invoice:"INV-001",amount:"15.00"}},{id:"2",title:"Refill Reminder Sent",description:"Amoxicillin 250mg refill due in 5 days",timestamp:new Date("2024-11-20"),type:"info",metadata:{drug:"Amoxicillin 250mg"}},{id:"3",title:"Loyalty Points Earned",description:"+150 points for purchase",timestamp:new Date("2024-11-25"),type:"success",metadata:{points:"150"}}]).pipe(M(300)):B([]).pipe(M(300))}getLoyaltyWallet(r){return this.pharmacyContextService.getCurrentPharmacy()?.id?B({patientId:r,points:1250,tier:"gold",totalSpent:2450,nextTierPoints:250}).pipe(M(300)):B(null).pipe(M(300))}getRefillReminders(r){return this.pharmacyContextService.getCurrentPharmacy()?.id?B([{id:"1",patientId:r,drugId:"PDRG001",drugName:"Paracetamol 500mg",lastFilledDate:new Date("2024-11-01"),nextRefillDate:new Date("2024-12-01"),daysUntilRefill:4,status:"upcoming"},{id:"2",patientId:r,drugId:"PDRG003",drugName:"Amoxicillin 250mg",lastFilledDate:new Date("2024-11-15"),nextRefillDate:new Date("2024-11-29"),daysUntilRefill:-2,status:"overdue"}]).pipe(M(300)):B([]).pipe(M(300))}static \u0275fac=function(e){return new(e||a)};static \u0275prov=se({token:a,factory:a.\u0275fac,providedIn:"root"})};var ze=(a,r)=>r.id;function Fe(a,r){if(a&1&&(n(0,"span",23),d(1),l(2,"translate"),l(3,"translate"),i()),a&2){let e=u().$implicit,o=u(2);t(),U("(",o.Math.abs(e.daysUntilRefill)," ",p(2,3,"common.days")," ",p(3,5,"patient.overdue"),")")}}function Ue(a,r){if(a&1&&(n(0,"span",24),d(1),l(2,"translate"),i()),a&2){let e=u().$implicit;t(),re("(",e.daysUntilRefill," ",p(2,2,"common.days"),")")}}function He(a,r){if(a&1&&(n(0,"div",20)(1,"div",21)(2,"div",22),d(3),i(),n(4,"div",16),d(5),l(6,"translate"),h(7,Fe,4,7,"span",23)(8,Ue,3,4,"span",24),i()(),n(9,"app-badge",25),d(10),i()()),a&2){let e=r.$implicit,o=u(2);z("border-color",o.getReminderBorderColor(e.status)),t(3),s(e.drugName),t(2),re(" ",p(6,8,"patient.refillDue"),": ",o.formatDate(e.nextRefillDate)," "),t(2),b(e.daysUntilRefill<0?7:8),t(2),m("variant",o.getReminderVariant(e.status)),t(),_(" ",e.status," ")}}function Ge(a,r){if(a&1&&(n(0,"div",8)(1,"h3",11),d(2),l(3,"translate"),i(),n(4,"div",18),ce(5,He,11,10,"div",19,ze),i()()),a&2){let e=u();t(2),s(p(3,1,"patient.refillReminders")),t(3),ve(e.refillReminders)}}var Z=class a{patientId;engagementEngine=f(N);walletBalance=150.5;loyaltyPoints=245;currentTier="Silver";nextTier="Gold";nextTierPoints=500;pointsToNextTier=255;refillReminders=[];Math=Math;ngOnInit(){this.loadRefillReminders()}loadRefillReminders(){this.engagementEngine.getRefillReminders(this.patientId).subscribe({next:r=>{this.refillReminders=r}})}getReminderBorderColor(r){return r==="overdue"?"#ef4444":r==="due"?"#f59e0b":"#e5e7eb"}getReminderVariant(r){return r==="overdue"?"danger":r==="due"?"warning":"info"}formatDate(r){return new Date(r).toLocaleDateString()}walletIcon='<svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"></path></svg>';starIcon='<svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"></path></svg>';badgeIcon='<svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"></path></svg>';trendIcon='<svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"></path></svg>';get tierProgress(){return Math.min(100,this.loyaltyPoints/this.nextTierPoints*100)}transactions=[{id:"1",date:new Date("2024-11-27"),type:"earned",points:50,description:"Purchase reward"},{id:"2",date:new Date("2024-11-20"),type:"redeemed",points:-25,description:"Points redemption"},{id:"3",date:new Date("2024-11-15"),type:"earned",points:30,description:"Purchase reward"}];columns=[{key:"date",label:"table.date",sortable:!0},{key:"type",label:"patient.loyalty.type",sortable:!0},{key:"points",label:"patient.loyalty.points",sortable:!0},{key:"description",label:"patient.loyalty.description",sortable:!1}];pagination={page:1,pageSize:10,total:3,totalPages:1};static \u0275fac=function(e){return new(e||a)};static \u0275cmp=x({type:a,selectors:[["patient-loyalty-tab"]],inputs:{patientId:"patientId"},decls:55,vars:68,consts:[[1,"space-y-6"],[1,"bg-gradient-to-br","from-blue-500","to-purple-600","rounded-[var(--radius-lg)]","p-6","text-white"],[1,"flex","items-center","justify-between","mb-4"],[1,"text-lg","font-semibold"],[1,"text-2xl","font-bold"],[1,"grid","grid-cols-2","gap-4","text-sm"],[1,"opacity-80","mb-1"],[1,"text-xl","font-semibold"],[1,"bg-[var(--card-bg)]","rounded-[var(--radius-lg)]","shadow-[var(--shadow-sm)]","p-6"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-4"],[3,"label","value","icon"],[1,"text-lg","font-semibold","text-[var(--text-primary)]","mb-4"],[1,"space-y-2"],[1,"flex","justify-between","text-sm","text-[var(--card-text)]"],[1,"w-full","bg-gray-200","rounded-full","h-4"],[1,"bg-[var(--primary-bg)]","h-4","rounded-full","transition-all","duration-300"],[1,"text-sm","text-[var(--card-text)]"],[3,"columns","data","pagination","emptyMessage"],[1,"space-y-3"],[1,"flex","items-center","justify-between","p-3","border","rounded-lg",3,"border-color"],[1,"flex","items-center","justify-between","p-3","border","rounded-lg"],[1,"flex-1"],[1,"font-medium","text-[var(--text-primary)]"],[1,"text-red-600","ml-2"],[1,"text-amber-600","ml-2"],[3,"variant"]],template:function(e,o){if(e&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),d(4),l(5,"translate"),i(),n(6,"div",4),d(7),l(8,"currency"),i()(),n(9,"div",5)(10,"div")(11,"div",6),d(12),l(13,"translate"),i(),n(14,"div",7),d(15),i()(),n(16,"div")(17,"div",6),d(18),l(19,"translate"),i(),n(20,"div",7),d(21),i()()()(),h(22,Ge,7,3,"div",8),n(23,"div",9),c(24,"app-stat-card",10),l(25,"translate"),l(26,"currency"),c(27,"app-stat-card",10),l(28,"translate"),c(29,"app-stat-card",10),l(30,"translate"),c(31,"app-stat-card",10),l(32,"translate"),i(),n(33,"div",8)(34,"h3",11),d(35),l(36,"translate"),i(),n(37,"div",12)(38,"div",13)(39,"span"),d(40),i(),n(41,"span"),d(42),l(43,"translate"),i()(),n(44,"div",14),c(45,"div",15),i(),n(46,"div",16),d(47),l(48,"translate"),i()()(),n(49,"div",8)(50,"h3",11),d(51),l(52,"translate"),i(),c(53,"app-table",17),l(54,"translate"),i()()),e&2){let v;t(4),s(p(5,34,"patient.loyalty.walletCard")),t(3),s(S(8,36,o.walletBalance,"USD","","1.2-2")),t(5),s(p(13,41,"patient.loyalty.loyaltyPoints")),t(3),_("",o.loyaltyPoints," pts"),t(3),s(p(19,43,"patient.loyalty.currentTier")),t(3),s(o.currentTier),t(),b(o.refillReminders.length>0?22:-1),t(2),m("label",p(25,45,"patient.loyalty.walletBalance"))("value",(v=S(26,47,o.walletBalance,"USD","","1.2-2"))!==null&&v!==void 0?v:"0.00")("icon",o.walletIcon),t(3),m("label",p(28,52,"patient.loyalty.loyaltyPoints"))("value",o.loyaltyPoints)("icon",o.starIcon),t(2),m("label",p(30,54,"patient.loyalty.currentTier"))("value",o.currentTier)("icon",o.badgeIcon),t(2),m("label",p(32,56,"patient.loyalty.pointsToNextTier"))("value",o.pointsToNextTier)("icon",o.trendIcon),t(4),s(p(36,58,"patient.loyalty.tierProgress")),t(5),s(o.currentTier),t(2),U("",o.loyaltyPoints," / ",o.nextTierPoints," ",p(43,60,"patient.loyalty.points"),""),t(3),z("width",o.tierProgress,"%"),t(2),U(" ",o.pointsToNextTier," ",p(48,62,"patient.loyalty.pointsUntil")," ",o.nextTier," "),t(4),s(p(52,64,"patient.loyalty.history")),t(2),m("columns",o.columns)("data",o.transactions)("pagination",o.pagination)("emptyMessage",p(54,66,"patient.loyalty.noTransactions"))}},dependencies:[y,O,R,j,xe,C],encapsulation:2})};var K=class a{patientId;invoicesService=f(W);totalRevenue=0;avgOrderValue=0;totalOrders=0;lastOrderDate=new Date;moneyIcon='<svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>';chartIcon='<svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path></svg>';ordersIcon='<svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg>';calendarIcon='<svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg>';chartData={labels:[],datasets:[{label:"Revenue",data:[],borderColor:"rgb(75, 192, 192)",backgroundColor:"rgba(75, 192, 192, 0.2)",tension:.1}]};chartOptions={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0,position:"top"},tooltip:{enabled:!0}},scales:{y:{beginAtZero:!0,ticks:{callback:function(r){return r.toFixed(2)}}}}};ngOnInit(){this.loadRevenueData()}loadRevenueData(){this.invoicesService.getAll({page:1,pageSize:100}).subscribe({next:r=>{let e=r.data.filter(g=>g.patientId===this.patientId);if(this.totalOrders=e.length,this.totalRevenue=e.reduce((g,w)=>g+w.total,0),this.avgOrderValue=this.totalOrders>0?this.totalRevenue/this.totalOrders:0,e.length>0){let g=e.sort((w,pe)=>new Date(pe.createdAt).getTime()-new Date(w.createdAt).getTime());this.lastOrderDate=g[0].createdAt}let o=["Jan","Feb","Mar","Apr","May","Jun"],v=o.map((g,w)=>e.filter(ie=>new Date(ie.createdAt).getMonth()===w).reduce((ie,de)=>ie+de.total,0));this.chartData={labels:o,datasets:[{label:"Revenue",data:v,borderColor:"rgb(75, 192, 192)",backgroundColor:"rgba(75, 192, 192, 0.2)",tension:.1}]}}})}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=x({type:a,selectors:[["patient-revenue-tab"]],inputs:{patientId:"patientId"},decls:18,vars:38,consts:[[1,"space-y-6"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-4"],[3,"label","value","icon"],[1,"bg-[var(--card-bg)]","rounded-[var(--radius-lg)]","shadow-[var(--shadow-sm)]","p-6"],[1,"text-lg","font-semibold","text-[var(--text-primary)]","mb-4"],["type","line",3,"data","options","height"]],template:function(e,o){if(e&1&&(n(0,"div",0)(1,"div",1),c(2,"app-stat-card",2),l(3,"translate"),l(4,"currency"),c(5,"app-stat-card",2),l(6,"translate"),l(7,"currency"),c(8,"app-stat-card",2),l(9,"translate"),c(10,"app-stat-card",2),l(11,"translate"),l(12,"dateFormat"),i(),n(13,"div",3)(14,"h3",4),d(15),l(16,"translate"),i(),c(17,"app-chart",5),i()()),e&2){let v,g,w;t(2),m("label",p(3,16,"patient.revenue.totalRevenue"))("value",(v=S(4,18,o.totalRevenue,"USD","","1.2-2"))!==null&&v!==void 0?v:"0.00")("icon",o.moneyIcon),t(3),m("label",p(6,23,"patient.revenue.avgOrderValue"))("value",(g=S(7,25,o.avgOrderValue,"USD","","1.2-2"))!==null&&g!==void 0?g:"0.00")("icon",o.chartIcon),t(3),m("label",p(9,30,"patient.revenue.totalOrders"))("value",o.totalOrders)("icon",o.ordersIcon),t(2),m("label",p(11,32,"patient.revenue.lastOrderDate"))("value",(w=p(12,34,o.lastOrderDate))!==null&&w!==void 0?w:"-")("icon",o.calendarIcon),t(5),s(p(16,36,"patient.revenue.chartTitle")),t(2),m("data",o.chartData)("options",o.chartOptions)("height",300)}},dependencies:[y,O,Q,be,R,C],encapsulation:2})};function $e(a,r){if(a&1&&(n(0,"div")(1,"label",5),d(2),l(3,"translate"),i(),n(4,"div",6)(5,"p",7),d(6),i()()()),a&2){let e=u();t(2),s(p(3,2,"patient.medicalNotes")),t(4),s(e.patient.medicalNotes)}}function Qe(a,r){a&1&&(n(0,"div",3)(1,"p",4),d(2),l(3,"translate"),i()()),a&2&&(t(2),s(p(3,1,"patient.medical.noNotes")))}var X=class a{patient;static \u0275fac=function(e){return new(e||a)};static \u0275cmp=x({type:a,selectors:[["patient-medical-tab"]],inputs:{patient:"patient"},decls:15,vars:10,consts:[[1,"space-y-6"],[1,"bg-[var(--card-bg)]","rounded-[var(--radius-lg)]","shadow-[var(--shadow-sm)]","p-6"],[1,"text-lg","font-semibold","text-[var(--text-primary)]","mb-4"],[1,"text-center","py-12"],[1,"text-[var(--card-text)]"],[1,"block","text-sm","font-medium","text-[var(--card-text)]","mb-2"],[1,"bg-[var(--page-bg)]","rounded-[var(--radius-md)]","p-4"],[1,"text-[var(--text-primary)]","whitespace-pre-wrap"]],template:function(e,o){e&1&&(n(0,"div",0)(1,"div",1)(2,"h2",2),d(3),l(4,"translate"),i(),h(5,$e,7,4,"div")(6,Qe,4,3,"div",3),i(),n(7,"div",1)(8,"h3",2),d(9),l(10,"translate"),i(),n(11,"div",3)(12,"p",4),d(13),l(14,"translate"),i()()()()),e&2&&(t(3),s(p(4,4,"patient.medicalInfo")),t(2),b(o.patient.medicalNotes?5:6),t(4),s(p(10,6,"patient.medical.additionalInfo")),t(4),s(p(14,8,"patient.medical.comingSoon")))},dependencies:[y,C],encapsulation:2})};var ee=class a{patientId;engagementEngine=f(N);timelineEvents=[];ngOnInit(){this.loadTimeline()}loadTimeline(){this.engagementEngine.getPatientTimeline(this.patientId).subscribe({next:r=>{this.timelineEvents=r}})}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=x({type:a,selectors:[["patient-timeline-tab"]],inputs:{patientId:"patientId"},decls:2,vars:2,consts:[[1,"space-y-6"],[3,"events","emptyMessage"]],template:function(e,o){e&1&&(n(0,"div",0),c(1,"app-timeline",1),i()),e&2&&(t(),m("events",o.timelineEvents)("emptyMessage","timeline.empty"))},dependencies:[y,we],encapsulation:2})};var qe=["viewModal"],We=["deleteModal"];function Je(a,r){if(a&1&&c(0,"app-alert",4),a&2){let e=u();m("title",e.errorMessage)}}function Ye(a,r){if(a&1){let e=F();n(0,"div",15)(1,"button",16),l(2,"translate"),I("click",function(){let v=P(e).$implicit,g=u();return T(g.viewVoucher(v))}),k(),n(3,"svg",9),c(4,"path",17)(5,"path",18),i()(),D(),n(6,"button",16),l(7,"translate"),I("click",function(){let v=P(e).$implicit,g=u();return T(g.editVoucher(v.id))}),k(),n(8,"svg",9),c(9,"path",19),i()(),D(),n(10,"button",20),l(11,"translate"),I("click",function(){let v=P(e).$implicit,g=u();return T(g.confirmDelete(v))}),k(),n(12,"svg",9),c(13,"path",21),i()()()}a&2&&(t(),m("title",p(2,3,"common.view")),t(5),m("title",p(7,5,"common.edit")),t(4),m("title",p(11,7,"common.delete")))}function Ze(a,r){if(a&1&&(n(0,"div",13),c(1,"app-voucher-card",22),i()),a&2){let e=u();t(),m("voucher",e.selectedVoucher)("averageDiscountPercentage",0)}}var te=class a{patientId;vouchersService=f(Pe);router=f(H);vouchers=[];loading=!1;errorMessage="";deleting=!1;selectedVoucherId=null;selectedVoucherCode="";selectedVoucher=null;viewModal;deleteModal;pagination={page:1,pageSize:10,total:0,totalPages:0};columns=[{key:"voucherCode",label:"voucher.code",sortable:!0},{key:"voucherName",label:"voucher.name",sortable:!0},{key:"amount",label:"voucher.amount",sortable:!0},{key:"createdAt",label:"voucher.createdAt",sortable:!0},{key:"validUntil",label:"voucher.validUntil",sortable:!0},{key:"status",label:"voucher.status",sortable:!0},{key:"actions",label:"table.action"}];ngOnInit(){this.loadVouchers()}loadVouchers(){this.loading=!0,this.vouchersService.getByPatientId(this.patientId).subscribe({next:r=>{this.vouchers=r.map(e=>({id:e.voucherCode,voucherCode:e.voucherCode,voucherName:e.voucherName,patientId:e.patient.id,patientName:e.patient.fullName,pharmacyId:e.pharmacy.id,pharmacyName:e.pharmacy.name,amount:e.amount,createdAt:e.createdAt,validUntil:e.validUntil,status:e.validUntil<new Date?"expired":"active"})),this.pagination=L(A({},this.pagination),{total:this.vouchers.length,totalPages:Math.ceil(this.vouchers.length/this.pagination.pageSize)}),this.loading=!1},error:()=>{this.loading=!1,this.errorMessage="Failed to load vouchers"}})}onPageChange(r){this.pagination.page=r,this.loadVouchers()}viewVoucher(r){this.vouchersService.getById(r.id).subscribe({next:e=>{this.selectedVoucher=e,e&&this.viewModal.open()}})}editVoucher(r){this.router.navigate(["/vouchers",r,"edit"],{queryParams:{patientId:this.patientId}})}navigateToCreate(){this.router.navigate(["/vouchers/new"],{queryParams:{patientId:this.patientId}})}confirmDelete(r){this.selectedVoucherId=r.id,this.selectedVoucherCode=r.voucherCode,this.deleteModal.open()}deleteVoucher(){this.selectedVoucherId&&(this.deleting=!0,this.vouchersService.delete(this.selectedVoucherId).subscribe({next:()=>{this.deleting=!1,this.deleteModal.close(),this.loadVouchers()},error:()=>{this.deleting=!1,this.errorMessage="Failed to delete voucher"}}))}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=x({type:a,selectors:[["patient-vouchers-tab"]],viewQuery:function(e,o){if(e&1&&(ne(qe,5),ne(We,5)),e&2){let v;ae(v=oe())&&(o.viewModal=v.first),ae(v=oe())&&(o.deleteModal=v.first)}},inputs:{patientId:"patientId"},decls:31,vars:39,consts:[["actionTemplate",""],["viewModal",""],["deleteModal",""],[1,"space-y-6"],["type","error",3,"title"],[1,"bg-[var(--card-bg)]","rounded-[var(--radius-lg)]","shadow-[var(--shadow-sm)]","p-6"],[1,"flex","items-center","justify-between","mb-4"],[1,"text-lg","font-semibold","text-[var(--text-primary)]"],["type","button",1,"px-4","py-2","rounded-lg","font-semibold","text-sm","transition-all","duration-200","flex","items-center","gap-2",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 4v16m8-8H4"],[3,"onPageChange","columns","data","pagination","loading","emptyMessage"],[3,"title","showFooter","size"],[1,"flex","justify-center"],[3,"confirmed","title","showFooter","confirmText","confirmLoading"],[1,"flex","items-center","gap-2"],[1,"p-1","text-gray-600","hover:text-gray-900",3,"click","title"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"],[1,"p-1","text-gray-600","hover:text-red-600",3,"click","title"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"],[3,"voucher","averageDiscountPercentage"]],template:function(e,o){if(e&1){let v=F();n(0,"div",3),h(1,Je,1,1,"app-alert",4),n(2,"div",5)(3,"div",6)(4,"h2",7),d(5),l(6,"translate"),i(),n(7,"button",8),I("click",function(){return P(v),T(o.navigateToCreate())}),k(),n(8,"svg",9),c(9,"path",10),i(),d(10),l(11,"translate"),i()(),D(),n(12,"app-table",11),l(13,"translate"),I("onPageChange",function(w){return P(v),T(o.onPageChange(w))}),h(14,Ye,14,9,"ng-template",null,0,ue),i()(),n(16,"app-modal",12,1),l(18,"translate"),h(19,Ze,2,2,"div",13),i(),n(20,"app-modal",14,2),l(22,"translate"),l(23,"translate"),I("confirmed",function(){return P(v),T(o.deleteVoucher())}),n(24,"p"),d(25),l(26,"translate"),n(27,"strong"),d(28),i(),d(29),l(30,"translate"),i()()()}e&2&&(t(),b(o.errorMessage?1:-1),t(4),s(p(6,23,"patient.vouchers.title")),t(2),z("background","var(--primary-bg)")("color","var(--primary-text)"),t(3),_(" ",p(11,25,"button.createVoucher")," "),t(2),m("columns",o.columns)("data",o.vouchers)("pagination",o.pagination)("loading",o.loading)("emptyMessage",p(13,27,"patient.vouchers.noVouchers")),t(4),m("title",p(18,29,"voucher.view"))("showFooter",!1)("size","large"),t(3),b(o.selectedVoucher?19:-1),t(),m("title",p(22,31,"button.deleteVoucher"))("showFooter",!0)("confirmText",p(23,33,"common.delete"))("confirmLoading",o.deleting),t(5),_("",p(26,35,"modal.deleteVoucherConfirm")," "),t(3),s(o.selectedVoucherCode),t(),s(p(30,37,"modal.cannotUndo")))},dependencies:[y,j,C,ye,Te,G],encapsulation:2})};function Ke(a,r){if(a&1&&c(0,"app-alert",1),a&2){let e=u();m("title",e.errorMessage)}}function Xe(a,r){if(a&1&&(n(0,"app-tab",11),l(1,"translate"),c(2,"patient-orders-tab",14),i()),a&2){let e=u(2);m("title",p(1,3,"patient.tabs.orders"))("active",!1),t(2),m("patientId",e.patient.id)}}function et(a,r){if(a&1&&(n(0,"app-tab",11),l(1,"translate"),c(2,"patient-loyalty-tab",14),i()),a&2){let e=u(2);m("title",p(1,3,"patient.tabs.loyalty"))("active",!1),t(2),m("patientId",e.patient.id)}}function tt(a,r){if(a&1&&(n(0,"app-tab",11),l(1,"translate"),c(2,"patient-revenue-tab",14),i()),a&2){let e=u(2);m("title",p(1,3,"patient.tabs.revenue"))("active",!1),t(2),m("patientId",e.patient.id)}}function it(a,r){if(a&1&&(n(0,"app-tab",11),l(1,"translate"),c(2,"patient-vouchers-tab",14),i()),a&2){let e=u(2);m("title",p(1,3,"patient.tabs.vouchers"))("active",!1),t(2),m("patientId",e.patient.id)}}function nt(a,r){if(a&1){let e=F();n(0,"div",2)(1,"div",4)(2,"h1",5),d(3),l(4,"translate"),i(),n(5,"div",6)(6,"app-button",7),I("onClick",function(){P(e);let v=u();return T(v.editPatient())}),k(),n(7,"svg",8),c(8,"path",9),i(),d(9),l(10,"translate"),i(),D(),n(11,"app-button",7),I("onClick",function(){P(e);let v=u();return T(v.goBack())}),k(),n(12,"svg",8),c(13,"path",10),i(),d(14),l(15,"translate"),i()()(),D(),n(16,"app-tabs")(17,"app-tab",11),l(18,"translate"),c(19,"patient-overview-tab",12),i(),h(20,Xe,3,5,"app-tab",13)(21,et,3,5,"app-tab",13)(22,tt,3,5,"app-tab",13),n(23,"app-tab",11),l(24,"translate"),c(25,"patient-medical-tab",12),i(),n(26,"app-tab",11),l(27,"translate"),c(28,"patient-timeline-tab",14),i(),h(29,it,3,5,"app-tab",13),i()()}if(a&2){let e=u();t(3),s(p(4,16,"patient.details")),t(6),_(" ",p(10,18,"common.edit")," "),t(5),_(" ",p(15,20,"common.back")," "),t(3),m("title",p(18,22,"patient.tabs.overview"))("active",!0),t(2),m("patient",e.patient),t(),m("appCanAccess","patient.tabs.orders"),t(),m("appCanAccess","patient.tabs.loyalty"),t(),m("appCanAccess","patient.tabs.revenue"),t(),m("title",p(24,24,"patient.tabs.medical"))("active",!1),t(2),m("patient",e.patient),t(),m("title",p(27,26,"patient.tabs.timeline"))("active",!1),t(2),m("patientId",e.patient.id),t(),m("appCanAccess","patient.tabs.vouchers")}}function at(a,r){a&1&&(n(0,"div",3)(1,"p",15),d(2,"Loading patient details..."),i()())}var ke=class a{route=f(he);router=f(H);patientsService=f(Ce);patient=null;loading=!0;errorMessage="";ngOnInit(){let r=this.route.snapshot.paramMap.get("id");r?this.loadPatient(r):(this.errorMessage="Patient ID is required",this.loading=!1)}loadPatient(r){this.loading=!0,this.errorMessage="",this.patientsService.getById(r).subscribe({next:e=>{this.patient=e,this.loading=!1,e||(this.errorMessage="Patient not found")},error:e=>{this.errorMessage="Failed to load patient details",this.loading=!1,console.error("Error loading patient:",e)}})}editPatient(){this.patient&&this.router.navigate(["/patients",this.patient.id,"edit"])}goBack(){this.router.navigate(["/patients"])}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=x({type:a,selectors:[["app-patient-detail"]],decls:4,vars:2,consts:[[1,"space-y-[var(--spacing-gap)]"],["type","error",3,"title"],[1,"bg-[var(--card-bg)]","rounded-[var(--radius-lg)]","shadow-[var(--shadow-sm)]","p-[var(--spacing-card)]"],[1,"text-center","py-12"],[1,"flex","items-center","justify-between","mb-6"],[1,"text-2xl","font-bold","text-[var(--text-primary)]"],[1,"flex","gap-3"],["variant","outline",3,"onClick"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","inline","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10 19l-7-7m0 0l7-7m-7 7h18"],[3,"title","active"],[3,"patient"],[3,"title","active",4,"appCanAccess"],[3,"patientId"],[1,"text-[var(--card-text)]"]],template:function(e,o){e&1&&(n(0,"div",0),h(1,Ke,1,1,"app-alert",1)(2,nt,30,28,"div",2)(3,at,3,0,"div",3),i()),e&2&&(t(),b(o.errorMessage?1:-1),t(),b(o.patient?2:o.loading?3:-1))},dependencies:[y,fe,G,C,Ie,_e,q,J,Y,Z,K,X,ee,te],encapsulation:2})};export{ke as PatientDetailComponent};
