import{a as P}from"./chunk-47X5MO5M.js";import{a as L}from"./chunk-WVGIKFYW.js";import"./chunk-3NBSZF5I.js";import{a as F}from"./chunk-QDLVDHOW.js";import"./chunk-6CFKC637.js";import"./chunk-5PFWNSG3.js";import"./chunk-T542ZMY7.js";import"./chunk-URFUYTQU.js";import"./chunk-BYXBJQAS.js";import{b as V}from"./chunk-3UJCRMW3.js";import{d as k}from"./chunk-C3O3TVFX.js";import{$a as m,Ab as v,Bb as C,Eb as w,Fa as h,Ka as _,Q as g,Qa as u,W as i,X as s,_a as p,_b as S,cb as d,db as f,eb as b,mb as y,ob as T,wa as l}from"./chunk-E4S7NVXB.js";import"./chunk-C6Q5SG76.js";function B(a,e){if(a&1){let n=d();p(0,"div",4)(1,"button",5),f("click",function(){let r=i(n).$implicit,o=b();return s(o.viewDetail(r.id))}),y(2),v(3,"translate"),m()()}a&2&&(l(2),T(" ",C(3,1,"common.view")," "))}var A=class a{transferEngine=g(L);router=g(k);transfers=[];loading=!1;showFilters=!1;pagination=null;columns=[{key:"id",label:"table.id",sortable:!0},{key:"fromBranchName",label:"transfers.fromBranch"},{key:"toBranchName",label:"transfers.toBranch"},{key:"status",label:"transfers.status"},{key:"requestedByName",label:"transfers.requestedBy"},{key:"createdAt",label:"transfers.createdAt",sortable:!0}];primaryAction={label:"transfers.new",onClick:()=>this.router.navigate(["/inventory/transfers/new"]),variant:"primary"};ngOnInit(){this.loadTransfers()}loadTransfers(){this.loading=!0,this.transferEngine.getTransfers({page:this.pagination?.page||1,pageSize:10}).subscribe({next:e=>{this.transfers=e.data,this.pagination={page:e.page,pageSize:e.pageSize,total:e.total,totalPages:e.totalPages},this.loading=!1},error:()=>{this.loading=!1}})}handlePageChange(e){this.pagination&&(this.pagination.page=e,this.loadTransfers())}handleSearch(e){this.loadTransfers()}viewDetail(e){this.router.navigate(["/inventory/transfers",e])}static \u0275fac=function(n){return new(n||a)};static \u0275cmp=h({type:a,selectors:[["app-transfers-list"]],decls:5,vars:8,consts:[["actionTemplate",""],[1,"space-y-6"],["title","transfers.title",3,"onSearch","onFilter","showSearch","showFilter","primaryAction"],[3,"onPageChange","columns","data","pagination","loading","emptyMessage"],[1,"flex","gap-2"],[1,"text-sm","px-3","py-1","rounded","text-blue-600","hover:bg-blue-50",3,"click"]],template:function(n,t){if(n&1){let r=d();p(0,"div",1)(1,"app-action-toolbar",2),f("onSearch",function(c){return i(r),s(t.handleSearch(c))})("onFilter",function(){return i(r),s(t.showFilters=!t.showFilters)}),m(),p(2,"app-table",3),f("onPageChange",function(c){return i(r),s(t.handlePageChange(c))}),_(3,B,4,3,"ng-template",null,0,w),m()()}n&2&&(l(),u("showSearch",!0)("showFilter",!0)("primaryAction",t.primaryAction),l(),u("columns",t.columns)("data",t.transfers)("pagination",t.pagination)("loading",t.loading)("emptyMessage","transfers.empty"))},dependencies:[S,F,P,V],encapsulation:2})};export{A as TransfersListComponent};
