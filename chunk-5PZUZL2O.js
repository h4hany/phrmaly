import{K as p,i,y as s}from"./chunk-Z4T7VGFQ.js";import{a as r,b as l}from"./chunk-7CGTOI24.js";var c=class o{patients=[{id:"PAT001",fullName:"John Smith",dateOfBirth:new Date("1985-05-15"),gender:"male",phone:"123-456-7890",email:"john.smith@example.com",address:{city:"New York",area:"Manhattan",street:"123 Main St",notes:"Apartment 4B"},occupation:"Engineer",medicalNotes:"Allergic to penicillin",cardId:"PC-2024-001234",validUntil:new Date("2025-12-31"),issuedDate:new Date("2024-01-15"),createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-11-27")},{id:"PAT002",fullName:"Jane Doe",dateOfBirth:new Date("1990-08-22"),gender:"female",phone:"123-456-7891",email:"jane.doe@example.com",address:{city:"Los Angeles",area:"Beverly Hills",street:"456 Oak Ave",notes:""},occupation:"Teacher",medicalNotes:"",cardId:"PC-2024-001235",validUntil:new Date("2025-11-30"),issuedDate:new Date("2024-02-10"),createdAt:new Date("2024-02-10"),updatedAt:new Date("2024-11-26")},{id:"PAT003",fullName:"Michael Johnson",dateOfBirth:new Date("1978-12-03"),gender:"male",phone:"123-456-7892",email:"michael.j@example.com",address:{city:"Chicago",area:"Downtown",street:"789 Pine Rd",notes:""},occupation:"Doctor",medicalNotes:"Diabetes Type 2",cardId:"PC-2024-001236",validUntil:new Date("2026-03-20"),issuedDate:new Date("2024-03-20"),createdAt:new Date("2024-03-20"),updatedAt:new Date("2024-11-25")}];getAll(t){let e=t?.page||1,a=t?.pageSize||10,n=(e-1)*a,m=n+a,d=[...this.patients],h=d.slice(n,m);return i({data:h,total:d.length,page:e,pageSize:a,totalPages:Math.ceil(d.length/a)}).pipe(s(500))}getById(t){let e=this.patients.find(a=>a.id===t);return i(e||null).pipe(s(300))}create(t){let e=l(r({},t),{id:`PAT${String(this.patients.length+1).padStart(3,"0")}`,createdAt:new Date,updatedAt:new Date});return this.patients.push(e),i(e).pipe(s(500))}update(t,e){let a=this.patients.findIndex(n=>n.id===t);if(a===-1)throw new Error("Patient not found");return this.patients[a]=l(r(r({},this.patients[a]),e),{id:t,updatedAt:new Date}),i(this.patients[a]).pipe(s(500))}delete(t){let e=this.patients.findIndex(a=>a.id===t);return e===-1?i(!1).pipe(s(300)):(this.patients.splice(e,1),i(!0).pipe(s(500)))}search(t){let e=t.toLowerCase(),a=this.patients.filter(n=>n.fullName.toLowerCase().includes(e)||n.email?.toLowerCase().includes(e)||n.phone.includes(t));return i(a).pipe(s(300))}static \u0275fac=function(e){return new(e||o)};static \u0275prov=p({token:o,factory:o.\u0275fac,providedIn:"root"})};export{c as a};
