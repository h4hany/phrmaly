import{K as m,i as s,m as c,y as n}from"./chunk-Z4T7VGFQ.js";import{a as u,b as f}from"./chunk-7CGTOI24.js";var p=class i{accounts=[{id:"ACC001",name:"Green Valley Pharmacy Chain",email:"admin@greenvalley.com",phone:"+1234567890",status:"active",subscriptionPlanId:"PLAN001",maxPharmacies:5,maxStaff:50,pharmaciesCreated:3,staffCreated:25,enabledModules:["inventory","hr","finance","automation","analytics"],createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-11-27"),lastLoginAt:new Date("2024-11-27")},{id:"ACC002",name:"City Health Pharmacy",email:"contact@cityhealth.com",phone:"+1234567891",status:"trial",subscriptionPlanId:"PLAN002",maxPharmacies:1,maxStaff:10,pharmaciesCreated:1,staffCreated:5,enabledModules:["inventory","finance"],createdAt:new Date("2024-11-20"),updatedAt:new Date("2024-11-27"),trialEndsAt:new Date("2024-12-20"),lastLoginAt:new Date("2024-11-26")},{id:"ACC003",name:"MediCare Solutions",email:"info@medicare.com",phone:"+1234567892",status:"suspended",subscriptionPlanId:"PLAN001",maxPharmacies:10,maxStaff:100,pharmaciesCreated:8,staffCreated:75,enabledModules:["inventory","hr","finance","automation","loyalty","api_access"],createdAt:new Date("2023-06-10"),updatedAt:new Date("2024-11-25"),lastLoginAt:new Date("2024-11-20")}];getAll(t){let e=[...this.accounts];if(t?.status&&(e=e.filter(o=>o.status===t.status)),t?.search){let o=t.search.toLowerCase();e=e.filter(l=>l.name.toLowerCase().includes(o)||l.email.toLowerCase().includes(o))}let a=t?.page||1,r=t?.pageSize||10,d=(a-1)*r,h=d+r,A=e.slice(d,h);return s({data:A,total:e.length,page:a,pageSize:r,totalPages:Math.ceil(e.length/r)}).pipe(n(500))}getById(t){let e=this.accounts.find(a=>a.id===t);return s(e||null).pipe(n(300))}create(t){let e=f(u({},t),{id:`ACC${String(this.accounts.length+1).padStart(3,"0")}`,pharmaciesCreated:0,staffCreated:0,createdAt:new Date,updatedAt:new Date});return this.accounts.push(e),s(e).pipe(n(500))}update(t,e){let a=this.accounts.find(r=>r.id===t);if(!a)throw new Error("Account not found");return Object.assign(a,e,{updatedAt:new Date}),s(a).pipe(n(500))}updateModules(t,e){return this.update(t,{enabledModules:e})}suspend(t,e){return this.update(t,{status:"suspended"}).pipe(n(500),c(()=>!0))}activate(t){return this.update(t,{status:"active"}).pipe(n(500),c(()=>!0))}static \u0275fac=function(e){return new(e||i)};static \u0275prov=m({token:i,factory:i.\u0275fac,providedIn:"root"})};export{p as a};
