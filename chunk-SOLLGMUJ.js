import{a as V}from"./chunk-IW7CIESK.js";import{a as P}from"./chunk-NAQJBDHJ.js";import{a as H}from"./chunk-DG5RLGZG.js";import"./chunk-BYXBJQAS.js";import{a as U,b as j}from"./chunk-XBZAXIUZ.js";import{c as z,d as A,e as O,f as F}from"./chunk-VPFLKGZN.js";import"./chunk-CYRIZKVF.js";import{$a as n,Ea as T,Ja as S,Pa as r,R as x,Ra as k,Ua as L,Wb as G,Xa as _,Ya as C,Z as g,Za as e,_ as h,_a as i,cb as f,db as I,ka as B,lb as a,mb as c,nb as w,ta as u,wa as t,wb as v,yb as s,zb as p}from"./chunk-W6WRXJJ4.js";import{a as E,b as M}from"./chunk-7CGTOI24.js";var D=()=>({exact:!0}),b=()=>({exact:!1}),R=(m,d)=>d.path;function $(m,d){if(m&1&&(e(0,"li")(1,"a",15),n(2,"img",16),e(3,"span"),a(4),s(5,"translate"),i()()()),m&2){let o=d.$implicit;t(),r("routerLink",o.path)("routerLinkActiveOptions",v(6,b)),t(),r("src",o.icon,u),t(2),c(p(5,4,o.label))}}function J(m,d){if(m&1&&(e(0,"ul",20),_(1,$,6,7,"li",null,R),i()),m&2){let o=I();t(),C(o.navGroups.drug.items)}}function X(m,d){if(m&1&&(e(0,"li")(1,"a",15),n(2,"img",16),e(3,"span"),a(4),s(5,"translate"),i()()()),m&2){let o=d.$implicit;t(),r("routerLink",o.path)("routerLinkActiveOptions",v(6,b)),t(),r("src",o.icon,u),t(2),c(p(5,4,o.label))}}function q(m,d){if(m&1&&(e(0,"ul",20),_(1,X,6,7,"li",null,R),i()),m&2){let o=I();t(),C(o.navGroups.suppliers.items)}}var N=class m{router=x(A);authService=x(H);pharmacyContextService=x(P);themeService=x(V);translationService=x(U);currentTitle="nav.dashboard";collapsedGroups=B({drug:!0,suppliers:!0});navGroups={};constructor(){this.navGroups={drug:{label:"nav.drug",icon:this.getIcon("box"),items:[{path:"/drugs",label:"nav.products",icon:this.getIcon("box")},{path:"/bundles",label:"nav.bundles",icon:this.getIcon("bundle")},{path:"/inventory/alerts",label:"nav.inventoryAlerts",icon:this.getIcon("alert")}]},suppliers:{label:"nav.suppliers",icon:this.getIcon("truck"),items:[{path:"/suppliers",label:"nav.suppliers",icon:this.getIcon("truck")},{path:"/purchases",label:"nav.orders",icon:this.getIcon("cart")}]}}}ngOnInit(){this.updateTitle(),this.router.events.subscribe(()=>{this.updateTitle()})}updateTitle(){let d=this.router.url.split("/")[1]||"dashboard",o={dashboard:"nav.dashboard",patients:"patient.list",drugs:"drug.list",purchases:"nav.orders",invoices:"nav.sales",payments:"nav.payments",suppliers:"nav.suppliers",reports:"nav.helpSupport",settings:"nav.settings",inventory:"inventory.alerts",bundles:"nav.bundles","pharmacy-staff":"nav.pharmacyStaff","audit-logs":"audit.title"};this.currentTitle=o[d]||"nav.dashboard"}logout(){this.authService.logout(),this.router.navigate(["/login"])}toggleLanguage(){this.themeService.toggleLanguage()}currentLanguage=this.themeService.getCurrentLanguage.bind(this.themeService);toggleGroup(d){this.collapsedGroups.update(o=>M(E({},o),{[d]:!o[d]}))}isGroupCollapsed(d){return this.collapsedGroups()[d]??!1}getIcon(d){return{grid:"icons/grid.svg",box:"icons/box.svg",cart:"icons/cart.svg",chart:"icons/chart.svg",users:"icons/users.svg",card:"icons/card.svg",help:"icons/help.svg",settings:"icons/settings.svg",truck:"icons/truck.svg",bundle:"icons/bundle.svg",alert:"icons/alert.svg",staff:"icons/staff.svg",medicine:"icons/medicine.svg",pill:"icons/pill.svg"}[d]||""}static \u0275fac=function(o){return new(o||m)};static \u0275cmp=T({type:m,selectors:[["app-main-layout"]],decls:148,vars:92,consts:[[1,"flex","h-screen",2,"background-color","var(--page-bg)"],[1,"py-4","pl-4","flex-shrink-0"],[1,"w-64","h-full","rounded-[var(--radius-lg)]","flex","flex-col","relative","overflow-hidden","overflow-x-hidden",2,"background-color","var(--sidebar-bg)"],[1,"p-6","border-b","relative","z-10",2,"border-color","rgba(227, 244, 245, 0.1)"],[1,"flex","items-center","gap-3"],[1,"w-10","h-10","rounded-lg","flex","items-center","justify-center",2,"background-color","var(--primary-bg)"],[1,"text-xl","font-bold",2,"color","var(--primary-text)"],[1,"text-xl","font-bold",2,"color","var(--sidebar-text)"],[1,"flex-1","overflow-y-auto","overflow-x-hidden","p-4","relative","z-10"],[1,"absolute","inset-0","pointer-events-none",2,"opacity","0.15"],[1,"absolute",2,"top","15%","left","-5%"],["src","icons/medicine.svg","alt","",1,"w-24","h-24",2,"filter","brightness(0) invert(1)","opacity","0.4"],[1,"absolute",2,"top","50%","right","-5%"],[1,"absolute",2,"bottom","15%","left","50%","transform","translateX(-50%)"],[1,"space-y-2","relative","z-10"],["routerLinkActive","active",1,"flex","items-center","gap-3","px-4","py-3","rounded-[var(--radius-md)]","transition-colors",2,"color","var(--sidebar-text)",3,"routerLink","routerLinkActiveOptions"],["alt","",1,"w-5","h-5",2,"filter","brightness(0) invert(1)",3,"src"],["type","button",1,"w-full","flex","items-center","justify-between","gap-3","px-4","py-3","rounded-[var(--radius-md)]","transition-colors","hover:opacity-80",2,"color","var(--sidebar-text)",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","transition-transform"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 9l-7 7-7-7"],[1,"mt-2","ml-4","space-y-1"],[1,"px-4","pb-4","border-t","relative","z-10",2,"border-color","rgba(227, 244, 245, 0.1)","padding-top","1rem"],[1,"space-y-2"],[1,"p-4","border-t","relative","z-10",2,"border-color","rgba(227, 244, 245, 0.1)"],[1,"rounded-[var(--radius-md)]","p-4",2,"background-color","rgba(227, 244, 245, 0.1)"],[1,"flex","items-center","gap-2","mb-2"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-4",2,"color","var(--sidebar-text)"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"],[1,"font-semibold","text-sm",2,"color","var(--sidebar-text)"],[1,"text-xs","mb-3",2,"color","var(--sidebar-text)","opacity","0.8"],[1,"w-full","rounded-[var(--radius-md)]","px-4","py-2","text-sm","font-medium","transition-opacity","hover:opacity-90",2,"background-color","var(--primary-bg)","color","var(--primary-text)"],[1,"w-full","flex","items-center","gap-3","px-4","py-3","rounded-[var(--radius-md)]","transition-colors","hover:opacity-80",2,"color","var(--sidebar-text)",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"],[1,"flex-1","flex","flex-col","overflow-hidden"],[1,"pt-4",2,"padding-left","var(--spacing-page)","padding-right","var(--spacing-page)"],[1,"bg-white","rounded-[var(--radius-lg)]","px-6","py-4"],[1,"flex","items-center","justify-between"],[1,"text-2xl","font-bold","text-gray-900"],[1,"text-sm","text-gray-600","mt-1"],[1,"flex","items-center","gap-4"],[1,"relative"],["type","button",1,"flex","items-center","gap-2","px-3","py-2","border","border-gray-300","rounded-[var(--radius-md)]","text-sm","font-medium","text-gray-700","hover:bg-gray-50","transition-colors",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 5h12M9 3v2m1.048 9.5A18.022 18.022 0 016.412 9m6.088 9h7M11 21l5-10 5 10M12.751 5C11.783 10.77 8.07 15.61 3 18.129"],["type","text",1,"pl-10","pr-4","py-2","border","border-gray-300","rounded-[var(--radius-md)]","text-sm","focus:outline-none","focus:ring-2","focus:ring-[var(--primary-bg)]/20","focus:border-[var(--primary-bg)]",2,"background-color","white",3,"placeholder"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","absolute","left-3","top-2.5","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"],[1,"relative","p-2","text-gray-600","hover:text-gray-900"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"],[1,"absolute","top-1","right-1","w-2","h-2","bg-red-500","rounded-full"],[1,"w-10","h-10","bg-gray-300","rounded-full"],[1,"text-left"],[1,"text-sm","font-medium","text-gray-900"],[1,"text-xs","text-gray-500"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-gray-400"],[1,"flex-1","overflow-y-auto",2,"padding","var(--spacing-page)","background-color","var(--page-bg)"]],template:function(o,l){o&1&&(e(0,"div",0)(1,"div",1)(2,"aside",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"span",6),a(7,"P"),i()(),e(8,"span",7),a(9,"Pharmly"),i()()(),e(10,"nav",8)(11,"div",9)(12,"div",10),n(13,"img",11),i(),e(14,"div",12),n(15,"img",11),i(),e(16,"div",13),n(17,"img",11),i()(),e(18,"ul",14)(19,"li")(20,"a",15),n(21,"img",16),e(22,"span"),a(23),s(24,"translate"),i()()(),e(25,"li")(26,"button",17),f("click",function(){return l.toggleGroup("drug")}),e(27,"div",4),n(28,"img",16),e(29,"span"),a(30),s(31,"translate"),i()(),g(),e(32,"svg",18),n(33,"path",19),i()(),S(34,J,3,0,"ul",20),i(),h(),e(35,"li")(36,"button",17),f("click",function(){return l.toggleGroup("suppliers")}),e(37,"div",4),n(38,"img",16),e(39,"span"),a(40),s(41,"translate"),i()(),g(),e(42,"svg",18),n(43,"path",19),i()(),S(44,q,3,0,"ul",20),i(),h(),e(45,"li")(46,"a",15),n(47,"img",16),e(48,"span"),a(49),s(50,"translate"),i()()(),e(51,"li")(52,"a",15),n(53,"img",16),e(54,"span"),a(55),s(56,"translate"),i()()(),e(57,"li")(58,"a",15),n(59,"img",16),e(60,"span"),a(61),s(62,"translate"),i()()(),e(63,"li")(64,"a",15),n(65,"img",16),e(66,"span"),a(67),s(68,"translate"),i()()(),e(69,"li")(70,"a",15),n(71,"img",16),e(72,"span"),a(73),s(74,"translate"),i()()()()(),e(75,"div",21)(76,"ul",22)(77,"li")(78,"a",15),n(79,"img",16),e(80,"span"),a(81),s(82,"translate"),i()()(),e(83,"li")(84,"a",15),n(85,"img",16),e(86,"span"),a(87),s(88,"translate"),i()()()()(),e(89,"div",23)(90,"div",24)(91,"div",25),g(),e(92,"svg",26),n(93,"path",27),i(),h(),e(94,"span",28),a(95),s(96,"translate"),i()(),e(97,"p",29),a(98),s(99,"translate"),i(),e(100,"button",30),a(101),s(102,"translate"),i()()(),e(103,"div",23)(104,"button",31),f("click",function(){return l.logout()}),g(),e(105,"svg",32),n(106,"path",33),i(),h(),e(107,"span"),a(108),s(109,"translate"),i()()()()(),e(110,"div",34)(111,"div",35)(112,"header",36)(113,"div",37)(114,"div")(115,"h1",38),a(116),s(117,"translate"),i(),e(118,"p",39),a(119),s(120,"translate"),i()(),e(121,"div",40)(122,"div",41)(123,"button",42),f("click",function(){return l.toggleLanguage()}),g(),e(124,"svg",43),n(125,"path",44),i(),h(),e(126,"span"),a(127),i()()(),e(128,"div",41),n(129,"input",45),s(130,"translate"),g(),e(131,"svg",46),n(132,"path",47),i()(),h(),e(133,"button",48),g(),e(134,"svg",49),n(135,"path",50),i(),h(),n(136,"span",51),i(),e(137,"div",4),n(138,"div",52),e(139,"div",53)(140,"div",54),a(141,"James Bond"),i(),e(142,"div",55),a(143,"@james.bond"),i()(),g(),e(144,"svg",56),n(145,"path",19),i()()()()()(),h(),e(146,"main",57),n(147,"router-outlet"),i()()()),o&2&&(t(20),r("routerLink","/dashboard")("routerLinkActiveOptions",v(84,D)),t(),r("src",l.getIcon("grid"),u),t(2),c(p(24,50,"nav.overview")),t(5),r("src",l.getIcon("pill"),u),t(2),c(p(31,52,"nav.drug")),t(2),k("rotate-180",!l.isGroupCollapsed("drug")),t(2),L(l.isGroupCollapsed("drug")?-1:34),t(4),r("src",l.getIcon("truck"),u),t(2),c(p(41,54,"nav.suppliers")),t(2),k("rotate-180",!l.isGroupCollapsed("suppliers")),t(2),L(l.isGroupCollapsed("suppliers")?-1:44),t(2),r("routerLink","/invoices")("routerLinkActiveOptions",v(85,b)),t(),r("src",l.getIcon("chart"),u),t(2),c(p(50,56,"nav.sales")),t(3),r("routerLink","/patients")("routerLinkActiveOptions",v(86,b)),t(),r("src",l.getIcon("users"),u),t(2),c(p(56,58,"nav.customers")),t(3),r("routerLink","/payments")("routerLinkActiveOptions",v(87,b)),t(),r("src",l.getIcon("card"),u),t(2),c(p(62,60,"nav.payments")),t(3),r("routerLink","/pharmacy-staff")("routerLinkActiveOptions",v(88,b)),t(),r("src",l.getIcon("staff"),u),t(2),c(p(68,62,"nav.pharmacyStaff")),t(3),r("routerLink","/audit-logs")("routerLinkActiveOptions",v(89,b)),t(),r("src",l.getIcon("chart"),u),t(2),c(p(74,64,"nav.auditLogs")),t(5),r("routerLink","/reports")("routerLinkActiveOptions",v(90,b)),t(),r("src",l.getIcon("help"),u),t(2),c(p(82,66,"nav.helpSupport")),t(3),r("routerLink","/settings")("routerLinkActiveOptions",v(91,b)),t(),r("src",l.getIcon("settings"),u),t(2),c(p(88,68,"nav.settings")),t(8),c(p(96,70,"upgrade.title")),t(3),w(" ",p(99,72,"upgrade.description")," "),t(3),w(" ",p(102,74,"upgrade.button")," "),t(7),c(p(109,76,"nav.logout")),t(8),c(p(117,78,l.currentTitle)),t(3),c(p(120,80,"dashboard.subtitle")),t(8),c(l.currentLanguage()==="en"?"EN":"AR"),t(2),r("placeholder",p(130,82,"header.search")))},dependencies:[G,z,O,F,j],styles:[".active[_ngcontent-%COMP%]{background-color:var(--sidebar-active-bg)!important;color:var(--sidebar-active-text)!important}.active[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{filter:none!important}"]})};export{N as MainLayoutComponent};
