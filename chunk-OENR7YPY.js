import{a as n}from"./chunk-M3W4QUEG.js";import{M as a,S as i,g as s}from"./chunk-OKFD3A6M.js";var l=class r{authService=i(n);isPlatformModeSubject=new s(!1);isPlatformMode$=this.isPlatformModeSubject.asObservable();constructor(){this.checkPlatformMode(),this.authService.currentUser$.subscribe(()=>{this.checkPlatformMode()})}checkPlatformMode(){let e=this.authService.getCurrentUser();if(e){let o=["super_admin","support_admin","sales_admin","finance_admin"].includes(e.role);this.isPlatformModeSubject.next(o)}else this.isPlatformModeSubject.next(!1)}isPlatformMode(){return this.isPlatformModeSubject.value}hasPlatformRole(e){return this.authService.getCurrentUser()?.role===e}hasAnyPlatformRole(e){let t=this.authService.getCurrentUser();return t?e.some(o=>t.role===o):!1}canAccessSystemConsole(){return this.hasAnyPlatformRole(["super_admin","support_admin","sales_admin","finance_admin"])}static \u0275fac=function(t){return new(t||r)};static \u0275prov=a({token:r,factory:r.\u0275fac,providedIn:"root"})};export{l as a};
