import{a as Q}from"./chunk-ZBG5VS73.js";import{a as J,b as K}from"./chunk-IVMEOUAV.js";import{a as L}from"./chunk-AKMVRB7K.js";import{a as q}from"./chunk-P5TE6FOK.js";import"./chunk-VIUQYQMJ.js";import{c as M,e as P,f as k,h as R,k as W,n as O,v as j,x as G}from"./chunk-VW37JDOU.js";import{a as z}from"./chunk-YJWIIGXE.js";import{a as U}from"./chunk-RFLCZAFW.js";import{a as H}from"./chunk-YUKQXM5O.js";import{a as F}from"./chunk-M3W4QUEG.js";import"./chunk-BYXBJQAS.js";import"./chunk-QHH3SHC3.js";import{a as V}from"./chunk-KPWAPXFF.js";import{b as A}from"./chunk-7DC7YEPQ.js";import{$a as e,$b as c,Bb as f,Cb as b,Ga as l,La as g,Ra as p,S as u,Ta as S,Ua as B,Va as N,Wa as v,ab as t,bb as o,eb as T,fb as x,gb as D,hb as _,nb as r,ob as s,qb as I,xa as d}from"./chunk-OKFD3A6M.js";import"./chunk-KAT7YFEL.js";var Z=["*"];function $(m,n){if(m&1&&(e(0,"p",2),r(1),t()),m&2){let i=x(2);d(),s(i.subtitle)}}function ee(m,n){if(m&1&&(e(0,"div")(1,"h2",1),r(2),t(),g(3,$,2,1,"p",2),t()),m&2){let i=x();d(2),s(i.title),d(),v(i.subtitle?3:-1)}}var y=class m{title;subtitle;get formClasses(){return"p-6 space-y-6"}get formStyles(){return"background-color: var(--card-bg); border-radius: var(--radius-lg); box-shadow: var(--shadow-sm);"}static \u0275fac=function(i){return new(i||m)};static \u0275cmp=l({type:m,selectors:[["app-form-wrapper"]],inputs:{title:"title",subtitle:"subtitle"},ngContentSelectors:Z,decls:4,vars:5,consts:[[1,"space-y-6"],[1,"text-2xl","font-bold","text-gray-900"],[1,"mt-2","text-sm","text-gray-600"]],template:function(i,a){i&1&&(D(),e(0,"div",0),g(1,ee,4,2,"div"),e(2,"div"),_(3),t()()),i&2&&(d(),v(a.title?1:-1),d(),B(a.formStyles),N(a.formClasses))},dependencies:[c],encapsulation:2})};var C=class m{authService=u(F);pharmacyContextService=u(H);pharmacyStaffService=u(Q);subscriptionStartDate=new Date;subscriptionEndDate=new Date;daysRemaining=0;pharmacyCount=0;totalStaffCount=0;loading=!1;ngOnInit(){this.loadAccountInfo()}loadAccountInfo(){this.loading=!0,this.subscriptionStartDate=new Date("2024-01-01"),this.subscriptionEndDate=new Date("2025-12-31"),this.calculateDaysRemaining();let n=this.authService.getCurrentUser();n?.pharmacies?this.pharmacyCount=n.pharmacies.length:n?.pharmacyId&&(this.pharmacyCount=1),this.pharmacyStaffService.getAll({page:1,pageSize:1e3}).subscribe({next:i=>{this.totalStaffCount=i.total,this.loading=!1},error:()=>{this.totalStaffCount=0,this.loading=!1}})}calculateDaysRemaining(){let n=new Date;n.setHours(0,0,0,0);let i=new Date(this.subscriptionEndDate);i.setHours(0,0,0,0);let a=i.getTime()-n.getTime();this.daysRemaining=Math.ceil(a/(1e3*60*60*24)),this.daysRemaining<0&&(this.daysRemaining=0)}static \u0275fac=function(i){return new(i||m)};static \u0275cmp=l({type:m,selectors:[["app-account-info"]],decls:37,vars:20,consts:[["title","Account Information","subtitle","View your account details and subscription information"],[1,"space-y-6"],[1,"space-y-4"],[1,"text-lg","font-semibold","text-gray-900"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],[1,"p-4","bg-gray-50","rounded-[var(--radius-md)]"],[1,"block","text-sm","font-medium","text-gray-500","mb-1"],[1,"text-lg","font-semibold"]],template:function(i,a){i&1&&(e(0,"app-form-wrapper",0)(1,"div",1)(2,"div",2)(3,"h3",3),r(4,"Subscription Information"),t(),e(5,"div",4)(6,"div",5)(7,"label",6),r(8,"Subscription Start Date"),t(),e(9,"p",3),r(10),f(11,"dateFormat"),t()(),e(12,"div",5)(13,"label",6),r(14,"Subscription End Date"),t(),e(15,"p",3),r(16),f(17,"dateFormat"),t()(),e(18,"div",5)(19,"label",6),r(20,"Days Remaining"),t(),e(21,"p",7),r(22),t()()()(),e(23,"div",2)(24,"h3",3),r(25,"Account Statistics"),t(),e(26,"div",4)(27,"div",5)(28,"label",6),r(29,"Total Pharmacies"),t(),e(30,"p",3),r(31),t()(),e(32,"div",5)(33,"label",6),r(34,"Total Staff Members"),t(),e(35,"p",3),r(36),t()()()()()()),i&2&&(d(10),s(b(11,16,a.subscriptionStartDate)),d(6),s(b(17,18,a.subscriptionEndDate)),d(2),S("bg-yellow-50",a.daysRemaining<=30)("bg-red-50",a.daysRemaining<=7),d(3),S("text-yellow-700",a.daysRemaining<=30)("text-red-700",a.daysRemaining<=7)("text-gray-900",a.daysRemaining>30),d(),I(" ",a.daysRemaining," ",a.daysRemaining===1?"day":"days"," "),d(9),s(a.pharmacyCount),d(5),s(a.totalStaffCount))},dependencies:[c,y,q],encapsulation:2})};function te(m,n){if(m&1&&o(0,"app-alert",54),m&2){let i=x();p("title",i.successMessage)}}var h=class m{themeService=u(U);fb=u(j);themeForm;saving=!1;successMessage="";ngOnInit(){let n=this.themeService.getTheme();this.themeForm=this.fb.group({primaryBg:[n.primaryBg],primaryText:[n.primaryText],sidebarBg:[n.sidebarBg],sidebarText:[n.sidebarText],sidebarActiveBg:[n.sidebarActiveBg],sidebarActiveText:[n.sidebarActiveText],cardBg:[n.cardBg],cardText:[n.cardText],pageBg:[n.pageBg],successColor:[n.successColor],successBg:[n.successBg],successText:[n.successText],warningColor:[n.warningColor],warningBg:[n.warningBg],warningText:[n.warningText],dangerColor:[n.dangerColor],dangerBg:[n.dangerBg],dangerText:[n.dangerText],patientCardBg:[n.patientCardBg],patientCardText:[n.patientCardText],scrollbarBg:[n.scrollbarBg],scrollbarThumb:[n.scrollbarThumb]}),this.themeForm.valueChanges.subscribe(i=>{this.themeService.applyTheme(i)})}onSubmit(){if(this.themeForm.valid){this.saving=!0,this.successMessage="";let n=this.themeForm.value;this.themeService.saveTheme(n),setTimeout(()=>{this.saving=!1,this.successMessage="Theme settings saved successfully!",setTimeout(()=>{this.successMessage=""},3e3)},500)}}resetTheme(){let n=this.themeService.getDefaultTheme();this.themeForm.patchValue(n),this.themeService.resetTheme(),this.successMessage="Theme reset to default values",setTimeout(()=>{this.successMessage=""},3e3)}static \u0275fac=function(i){return new(i||m)};static \u0275cmp=l({type:m,selectors:[["app-theme-settings"]],decls:175,vars:3,consts:[["title","Theme Settings","subtitle","Customize the appearance of your application"],[1,"space-y-8",3,"ngSubmit","formGroup"],[1,"space-y-4"],[1,"text-lg","font-semibold","text-gray-900"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],[1,"block","text-sm","font-medium","text-gray-700","mb-2"],[1,"flex","items-center","gap-3"],["type","color","formControlName","primaryBg",1,"w-16","h-10","rounded","cursor-pointer","border","border-gray-300"],["type","text","formControlName","primaryBg",1,"flex-1","px-4","py-2","border","border-gray-300","rounded-[var(--radius-md)]","text-sm","focus:outline-none","focus:ring-2","focus:ring-[var(--primary-bg)]"],["type","color","formControlName","primaryText",1,"w-16","h-10","rounded","cursor-pointer","border","border-gray-300"],["type","text","formControlName","primaryText",1,"flex-1","px-4","py-2","border","border-gray-300","rounded-[var(--radius-md)]","text-sm","focus:outline-none","focus:ring-2","focus:ring-[var(--primary-bg)]"],["type","color","formControlName","sidebarBg",1,"w-16","h-10","rounded","cursor-pointer","border","border-gray-300"],["type","text","formControlName","sidebarBg",1,"flex-1","px-4","py-2","border","border-gray-300","rounded-[var(--radius-md)]","text-sm","focus:outline-none","focus:ring-2","focus:ring-[var(--primary-bg)]"],["type","color","formControlName","sidebarText",1,"w-16","h-10","rounded","cursor-pointer","border","border-gray-300"],["type","text","formControlName","sidebarText",1,"flex-1","px-4","py-2","border","border-gray-300","rounded-[var(--radius-md)]","text-sm","focus:outline-none","focus:ring-2","focus:ring-[var(--primary-bg)]"],["type","color","formControlName","sidebarActiveBg",1,"w-16","h-10","rounded","cursor-pointer","border","border-gray-300"],["type","text","formControlName","sidebarActiveBg",1,"flex-1","px-4","py-2","border","border-gray-300","rounded-[var(--radius-md)]","text-sm","focus:outline-none","focus:ring-2","focus:ring-[var(--primary-bg)]"],["type","color","formControlName","sidebarActiveText",1,"w-16","h-10","rounded","cursor-pointer","border","border-gray-300"],["type","text","formControlName","sidebarActiveText",1,"flex-1","px-4","py-2","border","border-gray-300","rounded-[var(--radius-md)]","text-sm","focus:outline-none","focus:ring-2","focus:ring-[var(--primary-bg)]"],["type","color","formControlName","cardBg",1,"w-16","h-10","rounded","cursor-pointer","border","border-gray-300"],["type","text","formControlName","cardBg",1,"flex-1","px-4","py-2","border","border-gray-300","rounded-[var(--radius-md)]","text-sm","focus:outline-none","focus:ring-2","focus:ring-[var(--primary-bg)]"],["type","color","formControlName","cardText",1,"w-16","h-10","rounded","cursor-pointer","border","border-gray-300"],["type","text","formControlName","cardText",1,"flex-1","px-4","py-2","border","border-gray-300","rounded-[var(--radius-md)]","text-sm","focus:outline-none","focus:ring-2","focus:ring-[var(--primary-bg)]"],["type","color","formControlName","pageBg",1,"w-16","h-10","rounded","cursor-pointer","border","border-gray-300"],["type","text","formControlName","pageBg",1,"flex-1","px-4","py-2","border","border-gray-300","rounded-[var(--radius-md)]","text-sm","focus:outline-none","focus:ring-2","focus:ring-[var(--primary-bg)]"],[1,"space-y-3"],[1,"text-md","font-medium","text-gray-800"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-4"],["type","color","formControlName","successColor",1,"w-16","h-10","rounded","cursor-pointer","border","border-gray-300"],["type","text","formControlName","successColor",1,"flex-1","px-4","py-2","border","border-gray-300","rounded-[var(--radius-md)]","text-sm","focus:outline-none","focus:ring-2","focus:ring-[var(--primary-bg)]"],["type","color","formControlName","successBg",1,"w-16","h-10","rounded","cursor-pointer","border","border-gray-300"],["type","text","formControlName","successBg",1,"flex-1","px-4","py-2","border","border-gray-300","rounded-[var(--radius-md)]","text-sm","focus:outline-none","focus:ring-2","focus:ring-[var(--primary-bg)]"],["type","color","formControlName","successText",1,"w-16","h-10","rounded","cursor-pointer","border","border-gray-300"],["type","text","formControlName","successText",1,"flex-1","px-4","py-2","border","border-gray-300","rounded-[var(--radius-md)]","text-sm","focus:outline-none","focus:ring-2","focus:ring-[var(--primary-bg)]"],["type","color","formControlName","warningColor",1,"w-16","h-10","rounded","cursor-pointer","border","border-gray-300"],["type","text","formControlName","warningColor",1,"flex-1","px-4","py-2","border","border-gray-300","rounded-[var(--radius-md)]","text-sm","focus:outline-none","focus:ring-2","focus:ring-[var(--primary-bg)]"],["type","color","formControlName","warningBg",1,"w-16","h-10","rounded","cursor-pointer","border","border-gray-300"],["type","text","formControlName","warningBg",1,"flex-1","px-4","py-2","border","border-gray-300","rounded-[var(--radius-md)]","text-sm","focus:outline-none","focus:ring-2","focus:ring-[var(--primary-bg)]"],["type","color","formControlName","warningText",1,"w-16","h-10","rounded","cursor-pointer","border","border-gray-300"],["type","text","formControlName","warningText",1,"flex-1","px-4","py-2","border","border-gray-300","rounded-[var(--radius-md)]","text-sm","focus:outline-none","focus:ring-2","focus:ring-[var(--primary-bg)]"],["type","color","formControlName","dangerColor",1,"w-16","h-10","rounded","cursor-pointer","border","border-gray-300"],["type","text","formControlName","dangerColor",1,"flex-1","px-4","py-2","border","border-gray-300","rounded-[var(--radius-md)]","text-sm","focus:outline-none","focus:ring-2","focus:ring-[var(--primary-bg)]"],["type","color","formControlName","dangerBg",1,"w-16","h-10","rounded","cursor-pointer","border","border-gray-300"],["type","text","formControlName","dangerBg",1,"flex-1","px-4","py-2","border","border-gray-300","rounded-[var(--radius-md)]","text-sm","focus:outline-none","focus:ring-2","focus:ring-[var(--primary-bg)]"],["type","color","formControlName","dangerText",1,"w-16","h-10","rounded","cursor-pointer","border","border-gray-300"],["type","text","formControlName","dangerText",1,"flex-1","px-4","py-2","border","border-gray-300","rounded-[var(--radius-md)]","text-sm","focus:outline-none","focus:ring-2","focus:ring-[var(--primary-bg)]"],["type","color","formControlName","patientCardBg",1,"w-16","h-10","rounded","cursor-pointer","border","border-gray-300"],["type","text","formControlName","patientCardBg",1,"flex-1","px-4","py-2","border","border-gray-300","rounded-[var(--radius-md)]","text-sm","focus:outline-none","focus:ring-2","focus:ring-[var(--primary-bg)]"],["type","color","formControlName","patientCardText",1,"w-16","h-10","rounded","cursor-pointer","border","border-gray-300"],["type","text","formControlName","patientCardText",1,"flex-1","px-4","py-2","border","border-gray-300","rounded-[var(--radius-md)]","text-sm","focus:outline-none","focus:ring-2","focus:ring-[var(--primary-bg)]"],["type","color","formControlName","scrollbarBg",1,"w-16","h-10","rounded","cursor-pointer","border","border-gray-300"],["type","text","formControlName","scrollbarBg",1,"flex-1","px-4","py-2","border","border-gray-300","rounded-[var(--radius-md)]","text-sm","focus:outline-none","focus:ring-2","focus:ring-[var(--primary-bg)]"],["type","color","formControlName","scrollbarThumb",1,"w-16","h-10","rounded","cursor-pointer","border","border-gray-300"],["type","text","formControlName","scrollbarThumb",1,"flex-1","px-4","py-2","border","border-gray-300","rounded-[var(--radius-md)]","text-sm","focus:outline-none","focus:ring-2","focus:ring-[var(--primary-bg)]"],["type","success",3,"title"],[1,"flex","items-center","justify-end","gap-4","pt-4","border-t","border-gray-200"],["variant","outline","type","button",3,"onClick"],["variant","primary","type","submit",3,"loading"]],template:function(i,a){i&1&&(e(0,"app-form-wrapper",0)(1,"form",1),T("ngSubmit",function(){return a.onSubmit()}),e(2,"div",2)(3,"h3",3),r(4,"Primary Colors"),t(),e(5,"div",4)(6,"div")(7,"label",5),r(8,"Primary Background"),t(),e(9,"div",6),o(10,"input",7)(11,"input",8),t()(),e(12,"div")(13,"label",5),r(14,"Primary Text"),t(),e(15,"div",6),o(16,"input",9)(17,"input",10),t()()()(),e(18,"div",2)(19,"h3",3),r(20,"Sidebar Colors"),t(),e(21,"div",4)(22,"div")(23,"label",5),r(24,"Sidebar Background"),t(),e(25,"div",6),o(26,"input",11)(27,"input",12),t()(),e(28,"div")(29,"label",5),r(30,"Sidebar Text"),t(),e(31,"div",6),o(32,"input",13)(33,"input",14),t()(),e(34,"div")(35,"label",5),r(36,"Sidebar Active Background"),t(),e(37,"div",6),o(38,"input",15)(39,"input",16),t()(),e(40,"div")(41,"label",5),r(42,"Sidebar Active Text"),t(),e(43,"div",6),o(44,"input",17)(45,"input",18),t()()()(),e(46,"div",2)(47,"h3",3),r(48,"Card Colors"),t(),e(49,"div",4)(50,"div")(51,"label",5),r(52,"Card Background"),t(),e(53,"div",6),o(54,"input",19)(55,"input",20),t()(),e(56,"div")(57,"label",5),r(58,"Card Text"),t(),e(59,"div",6),o(60,"input",21)(61,"input",22),t()()()(),e(62,"div",2)(63,"h3",3),r(64,"Page Colors"),t(),e(65,"div",4)(66,"div")(67,"label",5),r(68,"Page Background"),t(),e(69,"div",6),o(70,"input",23)(71,"input",24),t()()()(),e(72,"div",2)(73,"h3",3),r(74,"Status Colors"),t(),e(75,"div",25)(76,"h4",26),r(77,"Success"),t(),e(78,"div",27)(79,"div")(80,"label",5),r(81,"Color"),t(),e(82,"div",6),o(83,"input",28)(84,"input",29),t()(),e(85,"div")(86,"label",5),r(87,"Background"),t(),e(88,"div",6),o(89,"input",30)(90,"input",31),t()(),e(91,"div")(92,"label",5),r(93,"Text"),t(),e(94,"div",6),o(95,"input",32)(96,"input",33),t()()()(),e(97,"div",25)(98,"h4",26),r(99,"Warning"),t(),e(100,"div",27)(101,"div")(102,"label",5),r(103,"Color"),t(),e(104,"div",6),o(105,"input",34)(106,"input",35),t()(),e(107,"div")(108,"label",5),r(109,"Background"),t(),e(110,"div",6),o(111,"input",36)(112,"input",37),t()(),e(113,"div")(114,"label",5),r(115,"Text"),t(),e(116,"div",6),o(117,"input",38)(118,"input",39),t()()()(),e(119,"div",25)(120,"h4",26),r(121,"Danger"),t(),e(122,"div",27)(123,"div")(124,"label",5),r(125,"Color"),t(),e(126,"div",6),o(127,"input",40)(128,"input",41),t()(),e(129,"div")(130,"label",5),r(131,"Background"),t(),e(132,"div",6),o(133,"input",42)(134,"input",43),t()(),e(135,"div")(136,"label",5),r(137,"Text"),t(),e(138,"div",6),o(139,"input",44)(140,"input",45),t()()()()(),e(141,"div",2)(142,"h3",3),r(143,"Other Colors"),t(),e(144,"div",4)(145,"div")(146,"label",5),r(147,"Patient Card Background"),t(),e(148,"div",6),o(149,"input",46)(150,"input",47),t()(),e(151,"div")(152,"label",5),r(153,"Patient Card Text"),t(),e(154,"div",6),o(155,"input",48)(156,"input",49),t()(),e(157,"div")(158,"label",5),r(159,"Scrollbar Background"),t(),e(160,"div",6),o(161,"input",50)(162,"input",51),t()(),e(163,"div")(164,"label",5),r(165,"Scrollbar Thumb"),t(),e(166,"div",6),o(167,"input",52)(168,"input",53),t()()()(),g(169,te,1,1,"app-alert",54),e(170,"div",55)(171,"app-button",56),T("onClick",function(){return a.resetTheme()}),r(172," Reset to Default "),t(),e(173,"app-button",57),r(174," Save Changes "),t()()()()),i&2&&(d(),p("formGroup",a.themeForm),d(168),v(a.successMessage?169:-1),d(4),p("loading",a.saving))},dependencies:[c,G,R,M,P,k,W,O,y,z,V],encapsulation:2})};function re(m,n){m&1&&(e(0,"app-tab",5),f(1,"translate"),o(2,"app-account-info"),t()),m&2&&p("title",b(1,2,"settings.tabs.account"))("active",!0)}var X=class m{static \u0275fac=function(i){return new(i||m)};static \u0275cmp=l({type:m,selectors:[["app-settings"]],decls:11,vars:8,consts:[[1,"space-y-[var(--spacing-gap)]"],[1,"bg-[var(--card-bg)]","rounded-[var(--radius-lg)]","shadow-[var(--shadow-sm)]","p-[var(--spacing-card)]"],[1,"flex","items-center","justify-between","mb-6"],[1,"text-2xl","font-bold","text-[var(--text-primary)]"],[3,"title","active",4,"appCanAccess"],[3,"title","active"]],template:function(i,a){i&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),r(4),f(5,"translate"),t()(),e(6,"app-tabs"),g(7,re,3,4,"app-tab",4),e(8,"app-tab",5),f(9,"translate"),o(10,"app-theme-settings"),t()()()()),i&2&&(d(4),s(b(5,4,"nav.settings")),d(3),p("appCanAccess","settings.tabs.account"),d(),p("title",b(9,6,"settings.tabs.theme"))("active",!1))},dependencies:[c,K,J,L,C,h,A],encapsulation:2})};export{X as SettingsComponent};
