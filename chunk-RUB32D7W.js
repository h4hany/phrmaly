import{K as o,i as a,y as i}from"./chunk-E4S7NVXB.js";import{a as p,b as u}from"./chunk-C6Q5SG76.js";var d=class n{suppliers=[{id:"SUP001",name:"ABC Pharmaceuticals",type:"manufacturer",phone:"+1-555-0101",email:"contact@abcpharma.com",address:"123 Pharma Street, New York",notes:"Primary manufacturer",status:"active",createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-11-27")},{id:"SUP002",name:"Global Medical Warehouse",type:"warehouse",phone:"+1-555-0102",email:"info@globalwarehouse.com",address:"456 Medical Ave, Los Angeles",notes:"Bulk supplier",status:"active",createdAt:new Date("2024-02-10"),updatedAt:new Date("2024-11-26")},{id:"SUP003",name:"MedTech Industries",type:"manufacturer",phone:"+1-555-0103",email:"sales@medtech.com",address:"789 Industry Blvd, Chicago",status:"active",createdAt:new Date("2024-03-20"),updatedAt:new Date("2024-11-25")}];getAll(t){let e=t?.page||1,r=t?.pageSize||10,s=(e-1)*r,c=s+r,l=[...this.suppliers],h=l.slice(s,c);return a({data:h,total:l.length,page:e,pageSize:r,totalPages:Math.ceil(l.length/r)}).pipe(i(500))}getById(t){let e=this.suppliers.find(r=>r.id===t);return a(e||null).pipe(i(300))}create(t){let e=u(p({},t),{id:`SUP${String(this.suppliers.length+1).padStart(3,"0")}`,createdAt:new Date,updatedAt:new Date});return this.suppliers.push(e),a(e).pipe(i(500))}update(t,e){let r=this.suppliers.findIndex(s=>s.id===t);if(r===-1)throw new Error("Supplier not found");return this.suppliers[r]=u(p(p({},this.suppliers[r]),e),{id:t,updatedAt:new Date}),a(this.suppliers[r]).pipe(i(500))}delete(t){let e=this.suppliers.findIndex(r=>r.id===t);return e===-1?a(!1).pipe(i(300)):(this.suppliers.splice(e,1),a(!0).pipe(i(500)))}search(t){let e=t.toLowerCase();return a(this.suppliers.filter(r=>r.name.toLowerCase().includes(e)||r.email?.toLowerCase().includes(e)||r.phone?.includes(t))).pipe(i(300))}filterByType(t){return a(this.suppliers.filter(e=>e.type===t)).pipe(i(300))}filterByStatus(t){return a(this.suppliers.filter(e=>e.status===t)).pipe(i(300))}static \u0275fac=function(e){return new(e||n)};static \u0275prov=o({token:n,factory:n.\u0275fac,providedIn:"root"})};export{d as a};
