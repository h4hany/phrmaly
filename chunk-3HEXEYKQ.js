import{a as H}from"./chunk-BR4OB6PZ.js";import{a as j}from"./chunk-RLJ4EI4S.js";import{a as b}from"./chunk-Q7YPPIF7.js";import{b as D,d as I,e as A,g as M,i as F,l as P,s as R,u as k}from"./chunk-TAU7SGZY.js";import{a as W,b as z}from"./chunk-756M6VZI.js";import{a as G}from"./chunk-KJHJ7I7K.js";import{a as w}from"./chunk-LBIW3N6U.js";import"./chunk-BYXBJQAS.js";import{a as O}from"./chunk-77NWAUUO.js";import{a as _}from"./chunk-L2QHXWDV.js";import{b as V}from"./chunk-EO5VULWO.js";import"./chunk-5NQMXUDV.js";import"./chunk-TXY55LQM.js";import{$a as n,Ab as C,Ea as c,Ja as S,Pa as s,R as l,Ra as x,Tb as N,Ua as T,Vb as g,Za as e,_a as t,cb as h,db as E,lb as r,mb as p,ob as B,wa as m,yb as u,zb as f}from"./chunk-F5WAPTHD.js";import"./chunk-7CGTOI24.js";var y=class d{authService=l(w);pharmacyContextService=l(G);pharmacyStaffService=l(H);subscriptionStartDate=new Date;subscriptionEndDate=new Date;daysRemaining=0;pharmacyCount=0;totalStaffCount=0;loading=!1;ngOnInit(){this.loadAccountInfo()}loadAccountInfo(){this.loading=!0,this.subscriptionStartDate=new Date("2024-01-01"),this.subscriptionEndDate=new Date("2025-12-31"),this.calculateDaysRemaining();let i=this.authService.getCurrentUser();i?.pharmacies?this.pharmacyCount=i.pharmacies.length:i?.pharmacyId&&(this.pharmacyCount=1),this.pharmacyStaffService.getAll({page:1,pageSize:1e3}).subscribe({next:o=>{this.totalStaffCount=o.total,this.loading=!1},error:()=>{this.totalStaffCount=0,this.loading=!1}})}calculateDaysRemaining(){let i=new Date;i.setHours(0,0,0,0);let o=new Date(this.subscriptionEndDate);o.setHours(0,0,0,0);let a=o.getTime()-i.getTime();this.daysRemaining=Math.ceil(a/(1e3*60*60*24)),this.daysRemaining<0&&(this.daysRemaining=0)}static \u0275fac=function(o){return new(o||d)};static \u0275cmp=c({type:d,selectors:[["app-account-info"]],decls:37,vars:22,consts:[["title","Account Information","subtitle","View your account details and subscription information"],[1,"space-y-6"],[1,"space-y-4"],[1,"text-lg","font-semibold","text-gray-900"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],[1,"p-4","bg-gray-50","rounded-[var(--radius-md)]"],[1,"block","text-sm","font-medium","text-gray-500","mb-1"],[1,"text-lg","font-semibold"]],template:function(o,a){o&1&&(e(0,"app-form-wrapper",0)(1,"div",1)(2,"div",2)(3,"h3",3),r(4,"Subscription Information"),t(),e(5,"div",4)(6,"div",5)(7,"label",6),r(8,"Subscription Start Date"),t(),e(9,"p",3),r(10),u(11,"date"),t()(),e(12,"div",5)(13,"label",6),r(14,"Subscription End Date"),t(),e(15,"p",3),r(16),u(17,"date"),t()(),e(18,"div",5)(19,"label",6),r(20,"Days Remaining"),t(),e(21,"p",7),r(22),t()()()(),e(23,"div",2)(24,"h3",3),r(25,"Account Statistics"),t(),e(26,"div",4)(27,"div",5)(28,"label",6),r(29,"Total Pharmacies"),t(),e(30,"p",3),r(31),t()(),e(32,"div",5)(33,"label",6),r(34,"Total Staff Members"),t(),e(35,"p",3),r(36),t()()()()()()),o&2&&(m(10),p(C(11,16,a.subscriptionStartDate,"longDate")),m(6),p(C(17,19,a.subscriptionEndDate,"longDate")),m(2),x("bg-yellow-50",a.daysRemaining<=30)("bg-red-50",a.daysRemaining<=7),m(3),x("text-yellow-700",a.daysRemaining<=30)("text-red-700",a.daysRemaining<=7)("text-gray-900",a.daysRemaining>30),m(),B(" ",a.daysRemaining," ",a.daysRemaining===1?"day":"days"," "),m(9),p(a.pharmacyCount),m(5),p(a.totalStaffCount))},dependencies:[g,N,b],encapsulation:2})};function L(d,i){if(d&1&&n(0,"app-alert",54),d&2){let o=E();s("title",o.successMessage)}}var v=class d{themeService=l(j);fb=l(R);themeForm;saving=!1;successMessage="";ngOnInit(){let i=this.themeService.getTheme();this.themeForm=this.fb.group({primaryBg:[i.primaryBg],primaryText:[i.primaryText],sidebarBg:[i.sidebarBg],sidebarText:[i.sidebarText],sidebarActiveBg:[i.sidebarActiveBg],sidebarActiveText:[i.sidebarActiveText],cardBg:[i.cardBg],cardText:[i.cardText],pageBg:[i.pageBg],successColor:[i.successColor],successBg:[i.successBg],successText:[i.successText],warningColor:[i.warningColor],warningBg:[i.warningBg],warningText:[i.warningText],dangerColor:[i.dangerColor],dangerBg:[i.dangerBg],dangerText:[i.dangerText],patientCardBg:[i.patientCardBg],patientCardText:[i.patientCardText],scrollbarBg:[i.scrollbarBg],scrollbarThumb:[i.scrollbarThumb]}),this.themeForm.valueChanges.subscribe(o=>{this.themeService.applyTheme(o)})}onSubmit(){if(this.themeForm.valid){this.saving=!0,this.successMessage="";let i=this.themeForm.value;this.themeService.saveTheme(i),setTimeout(()=>{this.saving=!1,this.successMessage="Theme settings saved successfully!",setTimeout(()=>{this.successMessage=""},3e3)},500)}}resetTheme(){let i=this.themeService.getDefaultTheme();this.themeForm.patchValue(i),this.themeService.resetTheme(),this.successMessage="Theme reset to default values",setTimeout(()=>{this.successMessage=""},3e3)}static \u0275fac=function(o){return new(o||d)};static \u0275cmp=c({type:d,selectors:[["app-theme-settings"]],decls:175,vars:3,consts:[["title","Theme Settings","subtitle","Customize the appearance of your application"],[1,"space-y-8",3,"ngSubmit","formGroup"],[1,"space-y-4"],[1,"text-lg","font-semibold","text-gray-900"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],[1,"block","text-sm","font-medium","text-gray-700","mb-2"],[1,"flex","items-center","gap-3"],["type","color","formControlName","primaryBg",1,"w-16","h-10","rounded","cursor-pointer","border","border-gray-300"],["type","text","formControlName","primaryBg",1,"flex-1","px-4","py-2","border","border-gray-300","rounded-[var(--radius-md)]","text-sm","focus:outline-none","focus:ring-2","focus:ring-[var(--primary-bg)]"],["type","color","formControlName","primaryText",1,"w-16","h-10","rounded","cursor-pointer","border","border-gray-300"],["type","text","formControlName","primaryText",1,"flex-1","px-4","py-2","border","border-gray-300","rounded-[var(--radius-md)]","text-sm","focus:outline-none","focus:ring-2","focus:ring-[var(--primary-bg)]"],["type","color","formControlName","sidebarBg",1,"w-16","h-10","rounded","cursor-pointer","border","border-gray-300"],["type","text","formControlName","sidebarBg",1,"flex-1","px-4","py-2","border","border-gray-300","rounded-[var(--radius-md)]","text-sm","focus:outline-none","focus:ring-2","focus:ring-[var(--primary-bg)]"],["type","color","formControlName","sidebarText",1,"w-16","h-10","rounded","cursor-pointer","border","border-gray-300"],["type","text","formControlName","sidebarText",1,"flex-1","px-4","py-2","border","border-gray-300","rounded-[var(--radius-md)]","text-sm","focus:outline-none","focus:ring-2","focus:ring-[var(--primary-bg)]"],["type","color","formControlName","sidebarActiveBg",1,"w-16","h-10","rounded","cursor-pointer","border","border-gray-300"],["type","text","formControlName","sidebarActiveBg",1,"flex-1","px-4","py-2","border","border-gray-300","rounded-[var(--radius-md)]","text-sm","focus:outline-none","focus:ring-2","focus:ring-[var(--primary-bg)]"],["type","color","formControlName","sidebarActiveText",1,"w-16","h-10","rounded","cursor-pointer","border","border-gray-300"],["type","text","formControlName","sidebarActiveText",1,"flex-1","px-4","py-2","border","border-gray-300","rounded-[var(--radius-md)]","text-sm","focus:outline-none","focus:ring-2","focus:ring-[var(--primary-bg)]"],["type","color","formControlName","cardBg",1,"w-16","h-10","rounded","cursor-pointer","border","border-gray-300"],["type","text","formControlName","cardBg",1,"flex-1","px-4","py-2","border","border-gray-300","rounded-[var(--radius-md)]","text-sm","focus:outline-none","focus:ring-2","focus:ring-[var(--primary-bg)]"],["type","color","formControlName","cardText",1,"w-16","h-10","rounded","cursor-pointer","border","border-gray-300"],["type","text","formControlName","cardText",1,"flex-1","px-4","py-2","border","border-gray-300","rounded-[var(--radius-md)]","text-sm","focus:outline-none","focus:ring-2","focus:ring-[var(--primary-bg)]"],["type","color","formControlName","pageBg",1,"w-16","h-10","rounded","cursor-pointer","border","border-gray-300"],["type","text","formControlName","pageBg",1,"flex-1","px-4","py-2","border","border-gray-300","rounded-[var(--radius-md)]","text-sm","focus:outline-none","focus:ring-2","focus:ring-[var(--primary-bg)]"],[1,"space-y-3"],[1,"text-md","font-medium","text-gray-800"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-4"],["type","color","formControlName","successColor",1,"w-16","h-10","rounded","cursor-pointer","border","border-gray-300"],["type","text","formControlName","successColor",1,"flex-1","px-4","py-2","border","border-gray-300","rounded-[var(--radius-md)]","text-sm","focus:outline-none","focus:ring-2","focus:ring-[var(--primary-bg)]"],["type","color","formControlName","successBg",1,"w-16","h-10","rounded","cursor-pointer","border","border-gray-300"],["type","text","formControlName","successBg",1,"flex-1","px-4","py-2","border","border-gray-300","rounded-[var(--radius-md)]","text-sm","focus:outline-none","focus:ring-2","focus:ring-[var(--primary-bg)]"],["type","color","formControlName","successText",1,"w-16","h-10","rounded","cursor-pointer","border","border-gray-300"],["type","text","formControlName","successText",1,"flex-1","px-4","py-2","border","border-gray-300","rounded-[var(--radius-md)]","text-sm","focus:outline-none","focus:ring-2","focus:ring-[var(--primary-bg)]"],["type","color","formControlName","warningColor",1,"w-16","h-10","rounded","cursor-pointer","border","border-gray-300"],["type","text","formControlName","warningColor",1,"flex-1","px-4","py-2","border","border-gray-300","rounded-[var(--radius-md)]","text-sm","focus:outline-none","focus:ring-2","focus:ring-[var(--primary-bg)]"],["type","color","formControlName","warningBg",1,"w-16","h-10","rounded","cursor-pointer","border","border-gray-300"],["type","text","formControlName","warningBg",1,"flex-1","px-4","py-2","border","border-gray-300","rounded-[var(--radius-md)]","text-sm","focus:outline-none","focus:ring-2","focus:ring-[var(--primary-bg)]"],["type","color","formControlName","warningText",1,"w-16","h-10","rounded","cursor-pointer","border","border-gray-300"],["type","text","formControlName","warningText",1,"flex-1","px-4","py-2","border","border-gray-300","rounded-[var(--radius-md)]","text-sm","focus:outline-none","focus:ring-2","focus:ring-[var(--primary-bg)]"],["type","color","formControlName","dangerColor",1,"w-16","h-10","rounded","cursor-pointer","border","border-gray-300"],["type","text","formControlName","dangerColor",1,"flex-1","px-4","py-2","border","border-gray-300","rounded-[var(--radius-md)]","text-sm","focus:outline-none","focus:ring-2","focus:ring-[var(--primary-bg)]"],["type","color","formControlName","dangerBg",1,"w-16","h-10","rounded","cursor-pointer","border","border-gray-300"],["type","text","formControlName","dangerBg",1,"flex-1","px-4","py-2","border","border-gray-300","rounded-[var(--radius-md)]","text-sm","focus:outline-none","focus:ring-2","focus:ring-[var(--primary-bg)]"],["type","color","formControlName","dangerText",1,"w-16","h-10","rounded","cursor-pointer","border","border-gray-300"],["type","text","formControlName","dangerText",1,"flex-1","px-4","py-2","border","border-gray-300","rounded-[var(--radius-md)]","text-sm","focus:outline-none","focus:ring-2","focus:ring-[var(--primary-bg)]"],["type","color","formControlName","patientCardBg",1,"w-16","h-10","rounded","cursor-pointer","border","border-gray-300"],["type","text","formControlName","patientCardBg",1,"flex-1","px-4","py-2","border","border-gray-300","rounded-[var(--radius-md)]","text-sm","focus:outline-none","focus:ring-2","focus:ring-[var(--primary-bg)]"],["type","color","formControlName","patientCardText",1,"w-16","h-10","rounded","cursor-pointer","border","border-gray-300"],["type","text","formControlName","patientCardText",1,"flex-1","px-4","py-2","border","border-gray-300","rounded-[var(--radius-md)]","text-sm","focus:outline-none","focus:ring-2","focus:ring-[var(--primary-bg)]"],["type","color","formControlName","scrollbarBg",1,"w-16","h-10","rounded","cursor-pointer","border","border-gray-300"],["type","text","formControlName","scrollbarBg",1,"flex-1","px-4","py-2","border","border-gray-300","rounded-[var(--radius-md)]","text-sm","focus:outline-none","focus:ring-2","focus:ring-[var(--primary-bg)]"],["type","color","formControlName","scrollbarThumb",1,"w-16","h-10","rounded","cursor-pointer","border","border-gray-300"],["type","text","formControlName","scrollbarThumb",1,"flex-1","px-4","py-2","border","border-gray-300","rounded-[var(--radius-md)]","text-sm","focus:outline-none","focus:ring-2","focus:ring-[var(--primary-bg)]"],["type","success",3,"title"],[1,"flex","items-center","justify-end","gap-4","pt-4","border-t","border-gray-200"],["variant","outline","type","button",3,"onClick"],["variant","primary","type","submit",3,"loading"]],template:function(o,a){o&1&&(e(0,"app-form-wrapper",0)(1,"form",1),h("ngSubmit",function(){return a.onSubmit()}),e(2,"div",2)(3,"h3",3),r(4,"Primary Colors"),t(),e(5,"div",4)(6,"div")(7,"label",5),r(8,"Primary Background"),t(),e(9,"div",6),n(10,"input",7)(11,"input",8),t()(),e(12,"div")(13,"label",5),r(14,"Primary Text"),t(),e(15,"div",6),n(16,"input",9)(17,"input",10),t()()()(),e(18,"div",2)(19,"h3",3),r(20,"Sidebar Colors"),t(),e(21,"div",4)(22,"div")(23,"label",5),r(24,"Sidebar Background"),t(),e(25,"div",6),n(26,"input",11)(27,"input",12),t()(),e(28,"div")(29,"label",5),r(30,"Sidebar Text"),t(),e(31,"div",6),n(32,"input",13)(33,"input",14),t()(),e(34,"div")(35,"label",5),r(36,"Sidebar Active Background"),t(),e(37,"div",6),n(38,"input",15)(39,"input",16),t()(),e(40,"div")(41,"label",5),r(42,"Sidebar Active Text"),t(),e(43,"div",6),n(44,"input",17)(45,"input",18),t()()()(),e(46,"div",2)(47,"h3",3),r(48,"Card Colors"),t(),e(49,"div",4)(50,"div")(51,"label",5),r(52,"Card Background"),t(),e(53,"div",6),n(54,"input",19)(55,"input",20),t()(),e(56,"div")(57,"label",5),r(58,"Card Text"),t(),e(59,"div",6),n(60,"input",21)(61,"input",22),t()()()(),e(62,"div",2)(63,"h3",3),r(64,"Page Colors"),t(),e(65,"div",4)(66,"div")(67,"label",5),r(68,"Page Background"),t(),e(69,"div",6),n(70,"input",23)(71,"input",24),t()()()(),e(72,"div",2)(73,"h3",3),r(74,"Status Colors"),t(),e(75,"div",25)(76,"h4",26),r(77,"Success"),t(),e(78,"div",27)(79,"div")(80,"label",5),r(81,"Color"),t(),e(82,"div",6),n(83,"input",28)(84,"input",29),t()(),e(85,"div")(86,"label",5),r(87,"Background"),t(),e(88,"div",6),n(89,"input",30)(90,"input",31),t()(),e(91,"div")(92,"label",5),r(93,"Text"),t(),e(94,"div",6),n(95,"input",32)(96,"input",33),t()()()(),e(97,"div",25)(98,"h4",26),r(99,"Warning"),t(),e(100,"div",27)(101,"div")(102,"label",5),r(103,"Color"),t(),e(104,"div",6),n(105,"input",34)(106,"input",35),t()(),e(107,"div")(108,"label",5),r(109,"Background"),t(),e(110,"div",6),n(111,"input",36)(112,"input",37),t()(),e(113,"div")(114,"label",5),r(115,"Text"),t(),e(116,"div",6),n(117,"input",38)(118,"input",39),t()()()(),e(119,"div",25)(120,"h4",26),r(121,"Danger"),t(),e(122,"div",27)(123,"div")(124,"label",5),r(125,"Color"),t(),e(126,"div",6),n(127,"input",40)(128,"input",41),t()(),e(129,"div")(130,"label",5),r(131,"Background"),t(),e(132,"div",6),n(133,"input",42)(134,"input",43),t()(),e(135,"div")(136,"label",5),r(137,"Text"),t(),e(138,"div",6),n(139,"input",44)(140,"input",45),t()()()()(),e(141,"div",2)(142,"h3",3),r(143,"Other Colors"),t(),e(144,"div",4)(145,"div")(146,"label",5),r(147,"Patient Card Background"),t(),e(148,"div",6),n(149,"input",46)(150,"input",47),t()(),e(151,"div")(152,"label",5),r(153,"Patient Card Text"),t(),e(154,"div",6),n(155,"input",48)(156,"input",49),t()(),e(157,"div")(158,"label",5),r(159,"Scrollbar Background"),t(),e(160,"div",6),n(161,"input",50)(162,"input",51),t()(),e(163,"div")(164,"label",5),r(165,"Scrollbar Thumb"),t(),e(166,"div",6),n(167,"input",52)(168,"input",53),t()()()(),S(169,L,1,1,"app-alert",54),e(170,"div",55)(171,"app-button",56),h("onClick",function(){return a.resetTheme()}),r(172," Reset to Default "),t(),e(173,"app-button",57),r(174," Save Changes "),t()()()()),o&2&&(m(),s("formGroup",a.themeForm),m(168),T(a.successMessage?169:-1),m(4),s("loading",a.saving))},dependencies:[g,k,M,D,I,A,F,P,b,_,O],encapsulation:2})};var J=class d{static \u0275fac=function(o){return new(o||d)};static \u0275cmp=c({type:d,selectors:[["app-settings"]],decls:13,vars:11,consts:[[1,"space-y-[var(--spacing-gap)]"],[1,"bg-[var(--card-bg)]","rounded-[var(--radius-lg)]","shadow-[var(--shadow-sm)]","p-[var(--spacing-card)]"],[1,"flex","items-center","justify-between","mb-6"],[1,"text-2xl","font-bold","text-[var(--text-primary)]"],[3,"title","active"]],template:function(o,a){o&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),r(4),u(5,"translate"),t()(),e(6,"app-tabs")(7,"app-tab",4),u(8,"translate"),n(9,"app-account-info"),t(),e(10,"app-tab",4),u(11,"translate"),n(12,"app-theme-settings"),t()()()()),o&2&&(m(4),p(f(5,5,"nav.settings")),m(3),s("title",f(8,7,"settings.tabs.account"))("active",!0),m(3),s("title",f(11,9,"settings.tabs.theme"))("active",!1))},dependencies:[g,z,W,y,v,V],encapsulation:2})};export{J as SettingsComponent};
