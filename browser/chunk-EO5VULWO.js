import{a as p}from"./chunk-TXY55LQM.js";import{Ha as g,L as u,R as e,g as s,j as i,t as c,v as o}from"./chunk-F5WAPTHD.js";var a=class r{http=e(p);translations={en:{},ar:{}};translationsLoaded=new s(!1);translationsLoaded$=this.translationsLoaded.asObservable();currentLangSubject=new s("en");currentLang$=this.currentLangSubject.asObservable();constructor(){this.loadTranslations();let t=localStorage.getItem("language");t&&this.setLanguage(t)}loadTranslations(){c({en:this.http.get("/i18n/en.json").pipe(o(t=>(console.error("Error loading English translations:",t),i({})))),ar:this.http.get("/i18n/ar.json").pipe(o(t=>(console.error("Error loading Arabic translations:",t),i({}))))}).subscribe({next:t=>{this.translations.en=t.en,this.translations.ar=t.ar,this.translationsLoaded.next(!0),this.currentLangSubject.next(this.currentLangSubject.value)},error:t=>{console.error("Error loading translations:",t),this.translationsLoaded.next(!0)}})}translate(t){let n=this.currentLangSubject.value,l=this.translations[n]?.[t];return l||(this.translationsLoaded.value&&console.warn(`Translation missing for key: ${t}`),t)}setLanguage(t){localStorage.setItem("language",t),this.currentLangSubject.next(t),document.documentElement.setAttribute("dir",t==="ar"?"rtl":"ltr"),document.documentElement.setAttribute("lang",t)}getCurrentLanguage(){return this.currentLangSubject.value}toggleLanguage(){let t=this.currentLangSubject.value==="en"?"ar":"en";this.setLanguage(t)}static \u0275fac=function(n){return new(n||r)};static \u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"})};var m=class r{translationService=e(a);transform(t){return this.translationService.translate(t)}static \u0275fac=function(n){return new(n||r)};static \u0275pipe=g({name:"translate",type:r,pure:!1})};export{a,m as b};
