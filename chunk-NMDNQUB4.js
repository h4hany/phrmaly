import{K as c,i as s,y as i}from"./chunk-E4S7NVXB.js";import{a as n,b as l}from"./chunk-C6Q5SG76.js";var p=class o{staff=[{id:"ST001",fullName:"Sarah Johnson",email:"sarah.johnson@pharmly.com",phone:"+1234567890",username:"sarah.j",role:"pharmacy_manager",pharmacyId:"ph1",status:"active",avatarUrl:"https://ui-avatars.com/api/?name=Sarah+Johnson",createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-11-27")},{id:"ST002",fullName:"Michael Chen",email:"michael.chen@pharmly.com",phone:"+1234567891",username:"michael.c",role:"pharmacy_staff",pharmacyId:"ph1",status:"active",avatarUrl:"https://ui-avatars.com/api/?name=Michael+Chen",createdAt:new Date("2024-02-10"),updatedAt:new Date("2024-11-26")},{id:"ST003",fullName:"Emily Davis",email:"emily.davis@pharmly.com",phone:"+1234567892",username:"emily.d",role:"pharmacy_staff",pharmacyId:"ph1",status:"active",avatarUrl:"https://ui-avatars.com/api/?name=Emily+Davis",createdAt:new Date("2024-03-20"),updatedAt:new Date("2024-11-25")}];getAll(t){let a=t?.page||1,e=t?.pageSize||10,r=(a-1)*e,h=r+e,f=[...this.staff],d=f.slice(r,h);return s({data:d,total:f.length,page:a,pageSize:e,totalPages:Math.ceil(f.length/e)}).pipe(i(500))}getById(t){let a=this.staff.find(e=>e.id===t);return s(a||null).pipe(i(300))}search(t){let a=t.toLowerCase(),e=this.staff.filter(r=>r.fullName.toLowerCase().includes(a)||r.email.toLowerCase().includes(a)||r.phone?.toLowerCase().includes(a)||r.username?.toLowerCase().includes(a));return s(e).pipe(i(300))}create(t){let a=l(n({},t),{id:`ST${String(this.staff.length+1).padStart(3,"0")}`,createdAt:new Date,updatedAt:new Date});return this.staff.push(a),s(a).pipe(i(500))}update(t,a){let e=this.staff.findIndex(r=>r.id===t);if(e===-1)throw new Error("Staff member not found");return this.staff[e]=l(n(n({},this.staff[e]),a),{id:t,updatedAt:new Date}),s(this.staff[e]).pipe(i(500))}delete(t){let a=this.staff.findIndex(e=>e.id===t);return a===-1?s(!1).pipe(i(300)):(this.staff.splice(a,1),s(!0).pipe(i(300)))}static \u0275fac=function(a){return new(a||o)};static \u0275prov=c({token:o,factory:o.\u0275fac,providedIn:"root"})};export{p as a};
