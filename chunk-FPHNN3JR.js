import{a as p}from"./chunk-GHDX2O3N.js";import{K as n,Q as d,i as t,y as a}from"./chunk-ILVQMZIM.js";var l=class c{pharmacyContextService=d(p);referrals=[{id:"REF001",pharmacyId:"ph1",doctorId:"DOC001",doctorName:"Dr. Ahmed Ali",patientId:"PAT001",patientName:"John Doe",revenue:150,referralDate:new Date("2024-11-25"),createdAt:new Date("2024-11-25"),createdBy:"staff1"},{id:"REF002",pharmacyId:"ph1",doctorId:"DOC002",doctorName:"Dr. Sarah Mohamed",patientId:"PAT002",patientName:"Jane Smith",revenue:85.5,referralDate:new Date("2024-11-24"),createdAt:new Date("2024-11-24"),createdBy:"staff1"}];doctors=[{id:"DOC001",pharmacyId:"ph1",name:"Dr. Ahmed Ali",specialty:"Cardiology",totalReferrals:45,totalRevenue:6750,lastReferralDate:new Date("2024-11-25"),createdAt:new Date("2024-01-01"),createdBy:"admin"},{id:"DOC002",pharmacyId:"ph1",name:"Dr. Sarah Mohamed",specialty:"Pediatrics",totalReferrals:32,totalRevenue:2736,lastReferralDate:new Date("2024-11-24"),createdAt:new Date("2024-01-01"),createdBy:"admin"}];getReferrals(){let e=this.pharmacyContextService.getCurrentPharmacy()?.id;if(!e)return t([]).pipe(a(300));let r=this.referrals.filter(i=>i.pharmacyId===e);return t(r).pipe(a(500))}getDoctors(){let e=this.pharmacyContextService.getCurrentPharmacy()?.id;if(!e)return t([]).pipe(a(300));let r=this.doctors.filter(i=>i.pharmacyId===e);return t(r).pipe(a(500))}getReferralById(e){let r=this.pharmacyContextService.getCurrentPharmacy()?.id;if(!r)return t(null).pipe(a(300));let i=this.referrals.find(o=>o.id===e&&o.pharmacyId===r);return t(i||null).pipe(a(300))}static \u0275fac=function(r){return new(r||c)};static \u0275prov=n({token:c,factory:c.\u0275fac,providedIn:"root"})};export{l as a};
