import{a as m}from"./chunk-3H4DSHVM.js";import{a as p}from"./chunk-YUKQXM5O.js";import{A as o,M as d,S as i,j as s}from"./chunk-OKFD3A6M.js";var l=class a{apiService=i(m);pharmacyContextService=i(p);mockRequestedProducts=[];createRequest(t,e){let c=this.pharmacyContextService.getCurrentPharmacy()?.id||"",n=JSON.parse(localStorage.getItem("currentUser")||"{}"),u={id:`req_${Date.now()}`,productName:t,requestedBy:n.username||n.email||"Unknown",requestedAt:new Date,status:"pending",notes:e,pharmacyId:c};return this.mockRequestedProducts.unshift(u),s(u).pipe(o(500))}getAll(){let e=this.pharmacyContextService.getCurrentPharmacy()?.id||"",r=this.mockRequestedProducts.filter(c=>c.pharmacyId===e);return s(r).pipe(o(300))}getById(t){let e=this.mockRequestedProducts.find(r=>r.id===t);return s(e||null).pipe(o(200))}updateStatus(t,e){let r=this.mockRequestedProducts.find(c=>c.id===t);return r?(r.status=e,s(!0).pipe(o(300))):s(!1).pipe(o(300))}delete(t){let e=this.mockRequestedProducts.findIndex(r=>r.id===t);return e>-1?(this.mockRequestedProducts.splice(e,1),s(!0).pipe(o(300))):s(!1).pipe(o(300))}static \u0275fac=function(e){return new(e||a)};static \u0275prov=d({token:a,factory:a.\u0275fac,providedIn:"root"})};export{l as a};
